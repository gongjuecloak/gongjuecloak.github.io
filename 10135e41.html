<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>《欧陆风云4》1.35版本 | 公爵书房</title><meta name="keywords" content="EU4,欧陆风云4,日志,更新,版本"><meta name="author" content="公爵"><meta name="copyright" content="公爵"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="《欧陆风云4》1.35版本"><meta name="application-name" content="《欧陆风云4》1.35版本"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="《欧陆风云4》1.35版本"><meta property="og:url" content="https://blog.gjcloak.top/10135e41.html"><meta property="og:site_name" content="公爵书房"><meta property="og:description" content="1.35版本，代号“奥斯曼”，于2023年4月18日发布，校验码为d460。该版本与DLC 霸业一同发布。 扩展包特性 奥斯曼：新增含有68项任务的新任务树、2种特殊机制、12个新政府改革、新的耶尼切里阶层（附带有一系列新阶层特权、阶层议程和2种灾难）、5个新灾难、62个新事件、新附属国类型：行省，"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cos.gjcloak.xyz/pigo/202208200901599.jpeg?imageMogr2/format/webp/interlace/1/quality/0"><meta property="article:author" content="公爵"><meta property="article:tag" content="IT,前端,公爵,公爵书房,笔记,读书,阅读,科普,互联网,EU4,欧陆风云4,P社,CK3,HOI4"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cos.gjcloak.xyz/pigo/202208200901599.jpeg?imageMogr2/format/webp/interlace/1/quality/0"><link rel="shortcut icon" href="https://cos.gjcloak.xyz/pigo/202207141547395.svg"><link rel="canonical" href="https://blog.gjcloak.top/10135e41"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="tzVeQg-MESFX8FYW0CcPqg6DtebQpZkdEDHJl6sXXYo"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="1A2B2A146FD2913086CF272A99C0AC60"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4f7a563c757c9423f8b1208f9b00c480";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-ME8L91NJ6Q"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ME8L91NJ6Q');
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "gfgpd89g31");</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  friends_vue_info: {"apiurl":"https://fcircle.gjcloak.top/"},
  navMusic: false,
  mainTone: undefined,
  authorStatus: {"skills":["🤝 专修交互与设计","🏃 脚踏实地行动派"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"自上次更新以来已经过去了","messageNext":"天，文章的内容可能已过时。若内容或图片失效，请留言反馈。部分素材来自网络，若不小心影响到您的利益，请联系公爵删除。"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '《欧陆风云4》1.35版本',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-27 09:33:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="公爵书房" type="application/atom+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://q1.qlogo.cn/g?b=qq&amp;nk=763771418&amp;s=640"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>const loadingPercentage = document.getElementById("loading-percentage");
let loadingPercentageTimer = setInterval(function() {
  var progressBar = document.querySelector(".pace-progress");
  if (!progressBar) return
  var currentValue = progressBar.getAttribute("data-progress-text");
  if (currentValue !== loadingPercentage.textContent) {
    loadingPercentage.textContent = currentValue;
    if (currentValue === "100%") {
      clearInterval(loadingPercentageTimer);
    }
  }
}, 100);
const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
    Pace.restart()
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://link.5plus.top/" title="百宝袋" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://link.5plus.top/favicon.ico" alt="百宝袋"/><span class="back-menu-item-text">百宝袋</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="https://memos.5plus.top" title="Memos" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://memos.5plus.top/favicon.ico" alt="Memos"/><span class="back-menu-item-text">Memos</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">公爵书房</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://www.foreverblog.cn/go.html"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 虫洞</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=156642394&amp;server=netease&amp;type=playlist/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/goods/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的好物</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.gjcloak.xyz/images/微信无金额.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.gjcloak.xyz/images/微信无金额.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.gjcloak.xyz/images/QQ.png" target="_blank"><img class="post-qr-code-img" alt="QQ" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.gjcloak.xyz/images/QQ.png"/></a><div class="post-qr-code-desc">QQ</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>6</sup></a><a href="/tags/EU4/" style="font-size: 1.05rem;">EU4<sup>25</sup></a><a href="/tags/HTML5/" style="font-size: 1.05rem;">HTML5<sup>5</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem;">hexo<sup>5</sup></a><a href="/tags/mod/" style="font-size: 1.05rem;">mod<sup>8</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>18</sup></a><a href="/tags/rss/" style="font-size: 1.05rem;">rss<sup>1</sup></a><a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size: 1.05rem;">分享<sup>23</sup></a><a href="/tags/%E6%94%B9%E6%B4%BE/" style="font-size: 1.05rem;">改派<sup>3</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">教程<sup>10</sup></a><a href="/tags/%E6%96%87%E7%AB%A0%E9%93%BE%E6%8E%A5/" style="font-size: 1.05rem;">文章链接<sup>1</sup></a><a href="/tags/%E6%AC%A7%E9%99%86%E9%A3%8E%E4%BA%914/" style="font-size: 1.05rem;">欧陆风云4<sup>25</sup></a><a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 1.05rem;">源码<sup>5</sup></a><a href="/tags/%E8%87%AA%E5%BB%BA%E5%9B%BD/" style="font-size: 1.05rem;">自建国<sup>1</sup></a><a href="/tags/%E8%BD%AE%E6%92%AD%E5%9B%BE/" style="font-size: 1.05rem;">轮播图<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">30</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">57</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">76</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">105</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">79</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">39</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">34</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">15</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%88%86%E4%BA%AB/">分享</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/EU4/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>EU4</span></a><a class="article-meta__tags" href="/tags/%E6%AC%A7%E9%99%86%E9%A3%8E%E4%BA%914/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>欧陆风云4</span></a><a class="article-meta__tags" href="/tags/%E6%97%A5%E5%BF%97/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>日志</span></a><a class="article-meta__tags" href="/tags/%E6%9B%B4%E6%96%B0/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>更新</span></a><a class="article-meta__tags" href="/tags/%E7%89%88%E6%9C%AC/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>版本</span></a></span></div></div><h1 class="post-title">《欧陆风云4》1.35版本</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-20T10:46:15.000Z" title="发表于 2023-04-20 18:46:15">2023-04-20</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-27T01:33:52.832Z" title="更新于 2023-07-27 09:33:52">2023-07-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">12.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>65分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="《欧陆风云4》1.35版本"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为厦门"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>厦门</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://cos.gjcloak.xyz/pigo/202208200901599.jpeg?imageMogr2/format/webp/interlace/1/quality/0"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>1.35版本，代号“奥斯曼”，于2023年4月18日发布，校验码为d460。该版本与<a href="https://blog.gjcloak.top/1550.html">DLC 霸业</a>一同发布。</p>
<h2 id="扩展包特性"><a href="#扩展包特性" class="headerlink" title="扩展包特性"></a>扩展包特性</h2><ul>
<li>奥斯曼：新增含有68项任务的新任务树、2种特殊机制、12个新政府改革、新的耶尼切里阶层（附带有一系列新阶层特权、阶层议程和2种灾难）、5个新灾难、62个新事件、新附属国类型：行省，以及2种修会。</li>
<li>中国：新增5种新任务树（大明、建州&#x2F;满洲&#x2F;后金、大清、中国群雄、中国皇帝，总计77项新任务）、2个新政府改革、新的宦官阶层（附带有一系列新阶层特权、阶层议程和1个宦官夺权的灾难）、32个新事件、巡抚三司机制（使用修会机制），以及1种新直属州法令。</li>
<li>日本：新增含有30项任务的新任务树（符合条件时亦可获得中国皇帝任务树）、新政府机制（基督教日本可用）、6个新政府改革、1个新阶层特权、12个新事件，以及2个特有宣战理由。</li>
<li>俄罗斯：为莫斯科和俄罗斯新增含有57项任务的新任务树，为诺夫哥罗德新增7项新任务；为俄罗斯新增2种特殊机制（现代化和官秩表）、9个新政府改革、12个新阶层特权、65个新事件（含原有事件重做），以及2个新决议。</li>
<li>西班牙：扩展并重做了卡斯蒂利亚、阿拉贡和西班牙的任务树，新增20项新任务，新增1种特殊机制（咨议会行政制）、3个新政府改革、2个新阶层特权、1个灾难，以及7个新事件。</li>
<li>法兰西：新增含有68项任务的新任务树以及革命法兰西专属的16项额外任务、4个新政府改革、24个新事件，和新增的附属国类型：封邑。</li>
<li>大不列颠：为大不列颠新增了含有71项任务的新任务树、4个新政府改革、41个新事件、超过40项特殊议会相关改动、2种新附属国类型（商贸公司和贸易保护国），并重做了英国内战灾难。</li>
<li>普鲁士：重做了普鲁士任务树，新增了部分触发条件和奖励，添加了新机制（普鲁士军事化）和6个新事件。</li>
<li>葡萄牙：重做了葡萄牙任务树，新增了5个新任务，新增了部分触发条件和奖励，以及2个新政府改革。</li>
<li>朝鲜：新增了特殊政府机制（“Perfectionism”），可获得中国皇帝任务树，新增2个新政府改革，以及“高丽大藏经”相关事件和省份修正。</li>
<li>新增了68个特有政府改革，分别适用于不同国家和文化组。</li>
<li>新增了60个阶层特权，分别适用于各个阶层。每个阶层平均增加了5个新特权。</li>
<li>新增了9种特殊单位，其中3种为陆军单位（日本专属的“武士”、西班牙专属的“大方阵”和法兰西专属的“火枪手”），6种为海军单位（伊比利亚文化专属的“卡拉维尔帆船”和“盖伦帆船”、拉丁文化专属的“加莱赛战船”、朝鲜专属的“龟船”、大不列颠专属的“主力舰”Man-of-war和尼德兰专属的“东印度公司商船”）。</li>
<li>新增2个兵模包，一个用于法兰西文化组文化（法兰西、奥克、瓦隆和勃艮第文化小国）、一个用于东方文化（中华文化组南方小国、阿伊努、大理和菲律宾）。</li>
<li>新增3个音乐包，分别用于法兰西、奥斯曼和中国，以及DLC预购奖励的“March of Power”音乐包。</li>
</ul>
<h2 id="免费特性"><a href="#免费特性" class="headerlink" title="免费特性"></a>免费特性</h2><ul>
<li>添加了3个新理念组（基建理念、宫廷理念和佣兵理念），并进一步平衡了所有现有理念组。</li>
<li>添加了27个与新理念组相关的新事件。</li>
<li>添加了新一层级的政府改革，与军事学说有关，含7种改革。</li>
<li>添加了7个新阶层特权，用于目前尚无使其豁免征收领地的特权的阶层。</li>
<li>为DLC常识添加了7种新议会贿赂选项和全国贿赂选项，其中全国贿赂选项花费更高，但可一次涵盖多个议席。</li>
<li>为DLC天命添加了21种新天朝改革、21种新圣旨，并重做了特殊时代能力。</li>
<li>为DLC统治吧，不列颠尼亚添加了11种新海军学说。</li>
<li>为DLC黄金世纪添加了11种新修会。</li>
<li>为DLC皇帝添加了拉丁帝国tag，可经由十字军任务成立。</li>
<li>为DLC利维坦添加了7种新伟大工程。</li>
<li>添加了9个新成就。</li>
<li>重新添加了贸易保护国的附属国类型，可用于已通过决议“确立海权主义”的国家。</li>
<li>添加了一个议和选项，允许强行吞并使用迁徙机制的原住民国家。</li>
<li>添加了6种新炮兵单位。</li>
<li>为奥斯曼添加了27个新的趣味事件。</li>
<li>为俄罗斯添加了5个新的趣味事件。</li>
<li>为英格兰&#x2F;大不列颠添加了2个新的趣味事件。</li>
</ul>
<h2 id="游戏平衡"><a href="#游戏平衡" class="headerlink" title="游戏平衡"></a>游戏平衡</h2><h3 id="经济"><a href="#经济" class="headerlink" title="经济"></a>经济</h3><ul>
<li>如果宗主国进行了相应改革但其附属国没有，则“扩大教会权利”不再适用于附属国。</li>
<li>扩展基础设施现在将会使得开发成本降低 15% 而不是以往的 25%。</li>
<li>重商主义效果增强。当重商主义为 100 时，禁运效率会从 50% 提高到 100%，市民&#x2F;吠舍的忠诚均衡点会从 5% 提高到 10%。</li>
<li>省份叛乱度现在每有 1 点，将减少 2% 的省份税收修正。</li>
<li>省份税收现在将会提供 -2% 本地军团招募时间、-1% 本地重大项目升级时间、-1% 本地建设时间和 +2% 本地思潮传播。</li>
<li>通货膨胀现在也增加了传教士维护、升级伟大工程、接纳机构、调整殖民附属国、升级贸易中心和贸易公司投资的成本。</li>
<li>将法尔斯的颜色更改为薄荷绿。</li>
</ul>
<h3 id="政府"><a href="#政府" class="headerlink" title="政府"></a>政府</h3><ul>
<li>议会席位现在会给予省份**+10%<strong>本地水手修正与</strong>+15%**本地人力修正，而生产效率与人力不变。</li>
<li>给予省份议会席位现在会减少2点专制度，而不是3点，无论席位是自动给予的或是手动给予的。</li>
<li>贸易联盟的每一个成员现在都会给予联盟领袖**+5%<strong>贸易引导、</strong>+2<strong>海军上限、</strong>+1000<strong>水手上限、</strong>+1000<strong>人力上限以及</strong>+1**陆军上限。</li>
<li>现在拥有军事化机制时基础给予<strong>-0.5</strong>每月军事化，在战争中会给予**+0.1<strong>每月军事化，在和平中会给予</strong>-0.1**每月军事化，每点厌战度也会给予每月军事化减成。</li>
<li>谢契拉达政府改革现在解锁游牧理念，并奖励 25% 特殊单位上限。</li>
<li>谢契拉达现在可以使用阶层机制。其中包含哥萨克阶层。</li>
<li>“重选权正式化”政府改革现在与“尼德兰共和国”互斥，因为后者不允许强制重新选举。</li>
<li>原住民国家无法再从政府改革中获得陆军维护费修正、全局部队花费和人力恢复速度方面的加成。</li>
<li>天主教普鲁士或自定义国家现在可以获得普鲁士君主制的1级政府改革。</li>
<li>“地方议会”政府改革解锁的直属州法令“宗教宽容法令”现在给予的本地宗教统一度贡献从 50% 调整至 100%。</li>
<li>“维持权力平衡”政府改革奖励的所有阶层忠诚度从 5% 增加至 10%，并给予 +1 外交官。</li>
</ul>
<h3 id="宗教"><a href="#宗教" class="headerlink" title="宗教"></a>宗教</h3><ul>
<li>新教教会信条“教牧人员允许结婚”现在给予 -15% 同一宗教顾问花费，不再减少教士阶层影响力。</li>
<li>宣战现在不再对虔诚度产生影响。新统治者继位时虔诚度改为刷新为 0。</li>
<li>负虔诚度现在给予 -10% 理念花费，不再奖励 20% 要塞防御。</li>
<li>贸易公司减少的本地传教力量从 200% 调整至 20%。</li>
<li>教廷监护现在给予“派遣教廷使节”的奖励。</li>
<li>科普特正教给予的要塞防御从10%调整至15%。所有佛教信仰给予的异端容忍从+1调整至+2。神道教给予的+1异教容忍调整为+2异端容忍。</li>
<li>重制了改革宗热情机制。每个热情焦点花费的热情改为8，给予的修正得到加强。新增了“外交”热情焦点。</li>
<li>启用一个热情焦点的花费和维护费用从8改动至5。热情点现在给予-10%建筑花费、-10%稳定度花费、-5分离主义年数、+10%改善关系修正。 稳定焦点给予的-10%建筑花费改为-25%间谍行动花费。新增了“外交”热情焦点，奖励+2外交声誉、+25%改善关系修正、+10%所有阶层忠诚度均衡点。</li>
</ul>
<h3 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h3><ul>
<li>哥萨克特有的+10%冲击伤害增至+15%。</li>
<li>恰瓦花费的军事点数从5调整为2，新招募时改为具有50%初始兵力、10%士气。恰瓦军团现在具有-5%所受冲击伤害、-50%陆军损耗、+50%增援速度。</li>
<li>耶尼切里新招募时改为具有10%初始兵力、10%士气。特殊修正从+100%操练度获取修正、+100%补员花费改为+50%强攻要塞能力、+50%操练度获取修正。</li>
<li>哥萨克单位现在不再给予提升稳定度花费惩罚。</li>
<li>射击军现在不再给予提升稳定度花费惩罚，且获得+10%火力伤害、-10%所受火力伤害、+15%陆军维护费。</li>
</ul>
<h3 id="战争与和平"><a href="#战争与和平" class="headerlink" title="战争与和平"></a>战争与和平</h3><ul>
<li>荒废度给予的惩罚加倍。</li>
<li>被封锁的省份获得的本地贸易力量惩罚从-50%增至-100%。修建市场建筑将无法再完全抵消这一惩罚。</li>
<li>呼吁和平给予的厌战度从0.008调整至0.005。</li>
<li>重新平衡单位点数。削弱澳洲原住民和波利尼西亚兵种组单位，修正非洲、穆斯林兵种组单位随科技提升反而变弱的问题，削弱安纳托利亚兵种组的早期单位，对部分印度兵种组单位进行平衡。</li>
<li>“鼓舞人心的将领”将领特质现在除士气恢复速度之外，还奖励+5%陆军士气。</li>
<li>“生于马背之上”将领特质现在给予+100%骑兵比例。刷出改特质所需的骑兵比例从20%调整至30%。</li>
</ul>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><ul>
<li>改变宿敌的冷却年限从25年改为5年。</li>
<li>每1点原住民侵略性现在降低1%本地殖民几率。</li>
<li>热带省份给予的本地发展花费惩罚从10%调整至5%。</li>
</ul>
<h2 id="AI"><a href="#AI" class="headerlink" title="AI"></a>AI</h2><h3 id="外交"><a href="#外交" class="headerlink" title="外交"></a>外交</h3><ul>
<li>在会由于stability_cost_to_declare_war失去稳定度时，AI不会再宣战。</li>
</ul>
<h3 id="其它-1"><a href="#其它-1" class="headerlink" title="其它"></a>其它</h3><ul>
<li>修复了AI军队开始和停止移动的一个循环。</li>
<li>AI使用的炮兵将减少，尤其是收入低时。</li>
<li>海外属国宣布独立战争的倾向提高。</li>
<li>修复了部分情况下AI军队因惧怕敌军而不行动的问题。</li>
</ul>
<h2 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h2><h3 id="国家"><a href="#国家" class="headerlink" title="国家"></a>国家</h3><ul>
<li>根据社区玩家反馈，英格兰（ENG）国旗改为红底三狮，安茹（AVE）的国旗设为配有法国百合纹章的四等分旗帜（英格兰原有旗帜）。</li>
<li>葡萄牙的地图颜色改为蓝色！（作为代价，特雷姆森颜色做了相应改动）</li>
<li>普鲁士的地图颜色改为普鲁士蓝。</li>
</ul>
<h3 id="提示信息"><a href="#提示信息" class="headerlink" title="提示信息"></a>提示信息</h3><ul>
<li>改善了理念选择的提示框的大小。</li>
</ul>
<h3 id="单位模型"><a href="#单位模型" class="headerlink" title="单位模型"></a>单位模型</h3><ul>
<li>调整了英格兰、安茹、大不列颠和东印度公司的地图颜色。</li>
<li>调整了布拉班特、佛兰德的地图颜色，以与其各自的国旗颜色相配合，且更好地适配于瓦隆兵模。</li>
<li>调整了洛塔林吉亚的单位颜色。</li>
<li>大国单位包中的英格兰3级兵模的外衣饰面现在拥有动态颜色。</li>
<li>旧DLC中的英格兰兵模做了适配，以便于新增的盎格鲁瓦文化（法兰西文化组）也可使用。</li>
<li>新增的瓦隆兵模也适用于佛兰德文化。</li>
</ul>
<h2 id="用户模组制作"><a href="#用户模组制作" class="headerlink" title="用户模组制作"></a>用户模组制作</h2><h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><ul>
<li>Added guibounds command that allows debugging UI elements while doing UI mods.</li>
<li>Added set_country_flag and clr_country_flag.</li>
</ul>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><ul>
<li>Added change_country_color &#x3D; { country &#x3D; <country scope> &#x2F; color &#x3D; { r g b } } If the former argument is used then the country will adapt the color of the specified country scope. If the latter is used then a defined color will be used instead. Of course, it comes with a restore_country_color &#x3D; yes.</li>
<li>Added release_all_possible_countries &#x3D; yes #Country scope, the current country scope releases all countries which can be released from its owned provinces. If possible, the order should go from the smallest releasable to the biggest. If that is not possible then it should be just random.</li>
<li>Added janissary_infantry &#x3D; <country scope> #Province scope, spawns a janissary unit in the current province scope for the defined country scope.</li>
<li>Added revolutionary_guard_infantry &#x3D; <country scope> #Province scope, spawns a revolutionary guard unit in the current province scope for the defined country scope.</li>
<li>Added revolutionary_guard_cavalry &#x3D; <country scope> #Province scope, spawns a revolutionary guard cavalry unit in the current province scope for the defined country scope.</li>
<li>Added revolutionary_guard_artillery &#x3D; <country scope> #Province scope, spawns a revolutionary guard artillery unit in the current province scope for the defined country scope.</li>
<li>Added hire_advisor &#x3D; { type &#x3D; &lt;advisor_type&gt; cost_mulitplier &#x3D; <double> skill &#x3D; <int> name &#x3D; <string> religion &#x3D; <religion> culture &#x3D; <culture> female &#x3D; <boolean> location &#x3D; &lt;province_id&gt; age &#x3D; <int> max_age &#x3D; <int> min_age &#x3D; <int> } #Country scope, An effect which forcefully recruits an advisor and puts it into your court. The old advisor gets fired if the space is preoccupied already. From a scripting point of view, it works exactly like “define_advisor” with all the same parameters.</li>
<li>Added steer_trade &#x3D; <country> #Country scope, the current country scope steers trade power to the specified country scope.</li>
<li>Added disband_all_units &#x3D; yes #Country scope, the current country scope disbands all units it has. No matter where they are. Units, which are in battle while this effect fires are “stack wiped”.</li>
<li>Added disband_all_regiments &#x3D; yes #Country scope, the current country scope disbands all troops it has. No matter where they are. Units, which are in battle while this effect fires are “stack wiped”.</li>
<li>Added disband_all_ships &#x3D; yes #Country scope, the current country scope disbands all ships it has. No matter where they are. Units, which are in battle while this effect fires are “stack wiped”.</li>
<li>Added add_construction_progress &#x3D; <float> #Province scope, used to only affect great projects but now applies to any construction.</li>
<li>Added remove_guarantee &#x3D; &lt;country_scope&gt; #Country scope, the current scope removes its guarantee of the specified country.</li>
<li>Added remove_country &#x3D; yes #Country scope, the current country scope gets removed from existence. All of its provinces become uncolonized, all subjects become independent and all units are getting disbanded.</li>
<li>Added define_advisor &#x3D; {} now accepts min_age &#x3D; <int>, max_age &#x3D; <int> and age &#x3D; <int>.</li>
<li>Added Naval Doctrines, Personal Deities, Policies, Decrees and Assimilated Cultures from the Diwan Mechanic have now effect &#x3D; {} and removed_effect &#x3D; {} sections.</li>
<li>Added add_government_power &#x3D; { mechanic_type &#x3D; &lt;government_mechanic_id&gt; power_type &#x3D; &lt;government_power_type_id&gt; value &#x3D; <float> } #adds government power.</li>
<li>Added add_government_power_scaled_to_seats &#x3D; { mechanic_type &#x3D; &lt;government_mechanic_id&gt; power_type &#x3D; &lt;government_power_type_id&gt; value &#x3D; <float> } #adds government power, scaled to the number of seats in parliament.</li>
<li>Added set_government_power &#x3D; { mechanic_type &#x3D; &lt;government_mechanic_id&gt; power_type &#x3D; &lt;government_power_type_id&gt; value &#x3D; <float> } #sets government power.</li>
<li>Added freeze_government_power &#x3D; { mechanic_type &#x3D; &lt;government_mechanic_id&gt; power_type &#x3D; &lt;government_power_type_id&gt; } #government power no longer changes.</li>
<li>Added unfreeze_government_power &#x3D; { mechanic_type &#x3D; &lt;government_mechanic_id&gt; power_type &#x3D; &lt;government_power_type_id&gt; } #government power can change again.</li>
<li>Added add_rebel_progress &#x3D; { (rebel_type &#x3D; <rebel type>) value &#x3D; <int> } #Add rebel progress to a specified rebel type. If no rebel type is defined then add progress to all rebels.</li>
<li>Added start_debate &#x3D; <parliament issue id> #Country scope, immediately starts the defined debate. Ongoing debates will be canceled (canceling a debate should NOT activate the prestige loss).</li>
<li>Added cancel_current_debate &#x3D; yes #Country scope, cancel the current debate immediately. You can start a new debate then.</li>
<li>Added remove_enacted_issue &#x3D; yes #Coutnry scope, the current enacted parliament issue gets removed. You can start a new debate.</li>
<li>Added enact_issue &#x3D; <parliament issue id> #Country scope, immediately enact the parliament issue and skip the whole process of debating about an issue.</li>
<li>Added end_current_debate &#x3D; yes&#x2F;no #Country scope, end the current debate immediately. If “yes” then the debate succeeds and the issue gets enacted. If “no” then the issue fails and you get the penalty for it.</li>
<li>Added regenerate_government_mechanics &#x3D; yes #Regenerate the country’s government mechanics. Used for UI purposes.</li>
<li>Added set_papal_controller &#x3D; <country scope> #Sets the defined country scope as the new papal controller.</li>
<li>Added remove_power_projection &#x3D; { key &#x3D; <key of the power projection> amount &#x3D; <int> (amount is optional, if not defined, remove the whole key instead) }.</li>
<li>Added remove_hegemon &#x3D; <country scope> #The defined country loses its hegemon status.</li>
<li>Added add_subjects_development_ducats &#x3D; {multiplier &#x3D; <double> age_multiplier &#x3D; <double> custom_tooltip &#x3D; <tooltip> trigger &#x3D; {} } #Add ducats scaling with the development of your defined subject. Multiplier and age multiplier multiply the number of ducats you gain while the trigger checks which subject countries are taken into consideration.</li>
<li>Added add_owned_provinces_development_ducats &#x3D; { mulitplier &#x3D; <double> age_multiplier &#x3D; <double> custom_tooltip &#x3D; <tooltip> trigger &#x3D; {} } #Add ducats scaling with the development of your provinces. Multiplier and age multiplier multiply the number of ducats you gain while the trigger checks which provinces are taken into consideration.</li>
<li>Added add_owned_provinces_development_manpower &#x3D; {multiplier &#x3D; <double> age_multiplier &#x3D; <double> custom_tooltip &#x3D; <tooltip> trigger &#x3D; {} } #Add manpower scaling with the development of your defined subject. Multiplier and age multiplier multiply the amount of manpower you gain while the trigger checks which subject countries are taken into consideration.</li>
<li>Added add_subjects_development_manpower &#x3D; { mulitplier &#x3D; <double> age_multiplier &#x3D; <double> custom_tooltip &#x3D; <tooltip> trigger &#x3D; {} } #Add ducats manpower with the development of your provinces. Multiplier and age multiplier multiply the amount of manpower you gain while the trigger checks which provinces are taken into consideration.</li>
<li>Added tercio_infantry &#x3D; <country scope> #Province scope, spawns a Tercio regiment.</li>
<li>Added musketeer_infantry &#x3D; <country scope> #Province scope, spawns a Musketeer regiment.</li>
<li>Added samurai_infantry &#x3D; <country scope> #Province scope, spawns a Samurai regiment.</li>
<li>Added geobukseon_galley &#x3D; <country scope> #Province scope, spawns a Geobukseon Galley.</li>
<li>Added man_of_war_heavy &#x3D; <country scope> #Province scope, spawns a Man of War Heavy.</li>
<li>Added man_of_war_light &#x3D; <country scope> #Province scope, spawns a Man of War Light Ship.</li>
<li>Added galleon_heavy &#x3D; <country scope> #Province scope, spawns a Galleaon Heavy.</li>
<li>Added galleass_galley &#x3D; <country scope> #Province scope, spawns a Galleass Galley.</li>
<li>Added caravel_light &#x3D; <country scope> #Province scope, spawns a Caravel Light.</li>
<li>Added voc_indiamen_light &#x3D; <country scope> #Province scope, spawns a VOC Indiaman Light Ship.</li>
<li>Added create_unit_forcelimit_percentage &#x3D; { type &#x3D; &lt;unit type such as infantry, cavalry, etc.&gt; (special_unit_category &#x3D; &lt;special unit type such as cossacks, tercio, musketeer&gt;) force_limit_percentage &#x3D; <double> }.</li>
<li>Added extend_country_modifier &#x3D; { name &#x3D; <modifier id> duration &#x3D; <days> }.</li>
<li>Added start_debate &#x3D; <parliament issue id> #Country scope, immediately starts the defined debate. Ongoing debates will be canceled (canceling a debate should NOT activate the prestige loss).</li>
<li>Added cancel_current_debate &#x3D; yes #Country scope, cancel the current debate immediately. You can start a new debate then.</li>
<li>Added remove_enacted_issue &#x3D; yes #Coutnry scope, the current enacted parliament issue gets removed. You can start a new debate.</li>
<li>Added enact_issue &#x3D; <parliament issue id> #Country scope, immediately enact the parliament issue and skip the whole process of debating about an issue.</li>
<li>Added end_current_debate &#x3D; yes&#x2F;no #Country scope, end the current debate immediately. If “yes” then the debate succeeds and the issue gets enacted. If “no” then the issue fails and you get the penalty for it.</li>
<li>Added set_papal_controller &#x3D; <country scope> #Sets the defined country scope as the new papal controller.</li>
<li>Added remove_power_projection &#x3D; { key &#x3D; <key of the power projection> amount &#x3D; <int> (amount is optional, if not defined, remove the whole key instead) }</li>
</ul>
<h3 id="修正"><a href="#修正" class="headerlink" title="修正"></a>修正</h3><ul>
<li>Custom icons can now be used for country modifiers</li>
<li>Added static modifier under_governing_capacity_modifier &#x3D; {}</li>
<li>Added static modifier mandate &#x3D; {} #100% Strength at 100 Mandate, 0% at 0 Mandate</li>
<li>Added static modifier imperial_authority &#x3D; {} #100% Strength at 100 Imperial Authority, 0% at 0 Imperial Authority</li>
<li>Added static modifier positive_imperial_authority &#x3D; {} #100% Strength at 100 Imperial Authority, 0% at 50 Imperial Authority</li>
<li>Added static modifier negative_imperial_authority &#x3D; {} #100% Strength at 0 Imperial Authority, 0% at 50 Imperial Authority</li>
<li>Added static modifier average_over_sea_liberty_desire &#x3D; {} #Country scope, This static modifier scales with the average liberty desire of all your “Oversea subjects”. A subject is overseas if their capital is on a different continent than your capital. It will be needed for colonial content. The higher the average, the better the modifiers. Only counts subjects that have the “is_oversea_subject_type &#x3D; yes” (see the subject types section here) for the average. This way tributaries and daimyos would not affect this static modifier for their overlord. Applies to the overlord. The multiplier scales with the average liberty desire.</li>
<li>Added static modifier reverse_average_over_sea_liberty_desire &#x3D; {} #Country scope, This static modifier scales inversely with the average liberty desire of all your “Oversea subjects”. A subject is overseas if their capital is on a different continent than your capital. It will be needed for colonial content. Only counts subjects that have the “is_oversea_subject_type &#x3D; yes” (see the subject types section here) for the average. This way tributaries and daimyos would not affect this static modifier for their overlord. The lower the average, the better the modifiers. Applies to the overlord. The multiplier scales with the average liberty desire.</li>
<li>Added static modifier average_liberty_desire &#x3D; {} #Country scope, This static modifier scales with the average liberty desire of ALL of your subjects. The higher the average, the better the modifiers. Applies to the overlord. The multiplier scales with the average liberty desire.</li>
<li>Added static modifier reverse_average_liberty_desire &#x3D; {} #Country scope, This static modifier scales inversely with the average liberty desire of ALL of your subjects. The lower the average, the better the modifiers. Applies to the overlord. The multiplier scales with the average liberty desire.</li>
<li>Added static modifier average_global_autonomy_modifer &#x3D; {} #Country scope, scales with the average global autonomy your country has. The more autonomous the state, the stronger the modifiers.</li>
<li>Added static modifier reverse_average_global_autonomy_modifer &#x3D; {} #Country scope, scales inversely with the average global autonomy your country has. The less autonomous the state, the stronger the modifiers.</li>
<li>Added special_unit_cost_modifier &#x3D; <float> #Country modifier, modifies the non-manpower&#x2F;sailors cost of all special unitsspecial_unit_manpower_cost_modifier.</li>
<li>Added some special unit modifiersnumber_of_cannons &#x3D; &lt;int.</li>
<li>Added monarch_power_tribute &#x3D; <integer> #Increases the yearly monarch power tribute a tributary pays to its overlord by this amount (still caps the same as usual monarch power tribute)</li>
<li>Added tributary_conversion_cost_modifier &#x3D; <float> #Modifies the cost of the mandate that is required to turn a tributary into a vassal, which is unlocked via the final reform of the mandate.</li>
<li>Added global_allowed_num_of_manufactories &#x3D; <integer> #Increases the number of possible manufactories that all provinces of the country scope can have. #Works similarly to its local modifier equivalent!</li>
<li>Added can_claim_states &#x3D; yes &#x2F; no #Allows for fabricating claims on areas instead of provinces, much like the Tsardom T1 Government reform already allows</li>
<li>Added free_concentrate_development &#x3D; yes #Allows for concentrate development without the cost, much like the Mandala government reform</li>
<li>Added expand_infrastructure_cost &#x3D; <float> #Modifies the cost of the Expand Infrastructure action, by reducing both the reform progress and adm cost required, by a percentage</li>
<li>Added max_absolutism_effect &#x3D; <float> #modifies the maximum effect of absolutism on modifiers</li>
<li>Added chance_to_inherit &#x3D; <float> #Country scope, increases the chance to inherit a personal union when your ruler dies</li>
<li>Added culture_conversion_time &#x3D; <float> #Country scope, modifies the time needed to culturally convert a province. A negative number means that it goes faster (so -0.25 would be equal to 25% faster culture conversion)</li>
<li>Added local_culture_conversion_time &#x3D; <float> #Province scope, modifies the time needed to culturally convert the province which has this modifier. A negative number means that it goes faster (so -0.25 would be equal to 25% faster culture conversion)</li>
<li>Added same_religion_advisor_cost &#x3D; <float> #Country scope, works like same_culture_advisor_cost, but instead of checking for the culture it checks for the religion of the advisor and if it matches with the ruler.</li>
<li>Added artillery_barrage_cost &#x3D; <float> #Country scope, modifies the cost for using “Artillery Barrage” action during sieges. Should be usable as a trait for your generals too, so a general with artillery_barrage_cost &#x3D; -0.5 would have 50% cheaper barrages in a siege</li>
<li>Added great_project_upgrade_time &#x3D; <float> #Country scope, modifies the time needed to upgrade a great project. Has the build_time modifier as a fallback if Leviathan is disabled.</li>
<li>Added local_great_project_upgrade_time &#x3D; <float> #Province scope, modifies the time needed to upgrade a great project in the province with this modifier. Has the local_build_time modifier as a fallback if Leviathan is disabled.</li>
<li>Added warscore_from_battles_modifier &#x3D; <double> #Country scope, modifiers the amount of war score you gain from land and naval battles. Take DEFAULT_WARGOAL_BATTLESCORE_BONUS for more context.</li>
<li>Added yearly_innovativeness &#x3D; <float> #Country scope, gives you yearly innovativeness equal to the value of the modifier * so a yearly_innovativeness &#x3D; 0.25 would be 0.25 innovativeness each year. Is not present if you don’t have Rule Britannia active.</li>
<li>Added enable_forced_march &#x3D; yes #Country, Army scope, allows you to use Force March for this army regardless of your current tech level. A merc company with this ability could just force march.</li>
<li>Added reverse_relation_with_same_religion &#x3D; <int> #Country scope, modifies the opinion of OTHER countries towards you. So for example: if you are Catholic and you have reverse_relation_with_same_religion &#x3D; 25 then every other Catholic country has a +25 opinion of you. Conceptually, it works like the Religious Diplomats’ estate privilege. It’s a way to get rid of a performance-heavy hidden event which is also the reason why the AI is not allowed to take the privilege.</li>
<li>Added janissary_cost_modifier &#x3D; <float> #Country, modifies the mil power cost for recruiting Janissaries</li>
<li>Added yearly_government_power &#x3D; <float> #Country, adds the defined value flat to the government mechanic buttons like the one needed for the Russian government.</li>
<li>Added number_of_cannons_modifier &#x3D; <float> #Country&#x2F;Flagship scope, modifies the number of cannons all of your ships have. Multiplicative modifier (so a heavy with 200 cannons would have 220 cannons if the modifier number_of_cannons_modifier &#x3D; 0.1 is applied).</li>
<li>Added hull_size_modifier &#x3D; <float> #Country&#x2F;Flagship scope, modifies the hull size of all of your ships. Multiplicative modifier (so a heavy with 60 hull size would have 66 hull size if the modifier hull_size_modifier &#x3D; 0.1 is applied).</li>
<li>Added max_flagships &#x3D; <int> #Country scope, which modifies the number of flagships a country can have at the same time. Baseline, all countries should have 1 in the static modifiers.</li>
<li>Added heavy_ship_cannons &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the number of cannons all of your heavy ships have. Multiplicative modifier</li>
<li>Added heavy_ship_hull_size &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the hull size of your heavy ships</li>
<li>Added light_ship_cannons &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the number of cannons all of your light ships have. Multiplicative modifier</li>
<li>Added light_ship_hull_size &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the hull size of your light ships</li>
<li>Added galley_cannons &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the number of cannons all of your galleys have. Multiplicative modifier</li>
<li>Added galley_hullsize &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the hull size of your galleys</li>
<li>Added transport_cannons &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the number of cannons all of your transports have. Multiplicative modifier</li>
<li>Added transport_hullsize &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship&#x2F;Flagship scope, modifies the hull size of your transports</li>
<li>Added loyalty_change_on_revoked &#x3D; <float> #Country scope, modifies the estate loyalty hit when you revoke a privilege. So for example: loyalty_change_on_revoked &#x3D; -0.10 would mean that you lose 30% Estate Loyalty instead of 20%</li>
<li>Added estate_interaction_cooldown_modifier &#x3D; <float> #Country scope, modifies the months needed until you can enact one of the estate interactions again (like Seizing Land). The cooldown in question is defined as “cooldown_months &#x3D; <int>“ in common&#x2F;estate_crown_land&#x2F;00_interactions.txt</li>
<li>Added all_estate_possible_privileges &#x3D; <int> #Increases the number of possible privilege slots on all estates</li>
<li>Added the ability to define “privilege” modifiers for the estates which increase the number of possible privileges to grant</li>
<li>Added allow_mercenary_drill &#x3D; yes #Country&#x2F;Army scope, allows Mercenaries the ability to drill. Is not shown when you don’t have Cradle of Civilization</li>
<li>Added merc_leader_army_tradition &#x3D; <float> #Country&#x2F;Army scope, modifies the army tradition a leader of a merc company is spawned with</li>
<li>Added merc_independent_from_trade_range &#x3D; yes #Country scope, allows you to recruit merc companies which have their home in provinces which are outside your trade range</li>
<li>Added allow_mercenaries_to_split &#x3D; yes #Country&#x2F;Army scope, allow Mercenaries to split. They can only merge with regiments of their own company though. (this one might not be possible to implement, but should be tried nonetheless). CAN CAUSE DESYNCHS</li>
<li>Added centralize_state_cost &#x3D; <float> #Country scope, modifies the adm and government reform progress cost for centralizing a state. Does nothing if you don’t have Leviathan enabled.</li>
<li>Added local_centralize_state_cost &#x3D; <float> #Province scope, modifies the adm and government reform progress cost for centralizing a state in the province with the modifier. Does nothing if you don’t have Leviathan enabled.</li>
<li>Added land_morale_constant &#x3D; <float> #Country&#x2F;Army&#x2F;Unit scope, adds a flat amount of morale for the land army or for the unit itself * depending on the scope</li>
<li>Added naval_morale_constant &#x3D; <float> #Country&#x2F;Fleet&#x2F;Flagship&#x2F;Ship scope, adds a flat amount of morale for the fleet or for the ship itself * depending on the scope</li>
<li>Added max_general_shock&#x2F;fire&#x2F;maneuver&#x2F;siege &#x3D; <integer> #Country scope, increases the max amounts of pips a general can have in the category. So a max_general_shock &#x3D; 2 would mean a general could have, theoretically, 8 pips in shock (under the assumption the LEADER_MAX_PIPS &#x3D; 6 is in defines). Works for conquistadors too.</li>
<li>Added max_admiral_shock&#x2F;fire&#x2F;maneuver&#x2F;siege &#x3D; <integer> #Country scope, increases the max amounts of pips an admiral can have in the category. So a max_admiral_fire &#x3D; 2 would mean a general could have, theoretically, 8 pips in fire (under the assumption the LEADER_MAX_PIPS &#x3D; 6 is in defines). Works for explorers too.</li>
<li>Added coast_raid_range &#x3D; <int> #Country scope, modifies the amounts of sea tiles you can raid in. Base line, you can raid provinces which are at max 3 sea provinces away from your closest port. With a coast_raid_range &#x3D; 2, this would be increased to 5</li>
<li>Added development_cost_in_primary_culture &#x3D; <float> #Country scope, modifies the development cost of provinces of your primary culture</li>
<li>Added reduced_trade_penalty_on_non_main_tradenode &#x3D; <float> #Country scope, modifies the trade power penalty from collecting in your non-main trade nodes * this adds on to TRADE_NON_CAPITAL_OFFICE (-0.5) to give the total penalty, so positive numbers here are good</li>
<li>Added colony_cost_modifier &#x3D; <float> #Country, modifies the maintenance cost of having colonies in progress. Multiplicative.</li>
<li>Added local_colony_cost_modifier &#x3D; <float> #Province, modifies the maintenance cost of the current colony with this modifier for its owner. Multiplicative.</li>
<li>Added spy_action_cost_modifier &#x3D; <float> #Country, modifies the spy network costs of ALL spy actions. Multiplicative.</li>
<li>Added placed_merchant_power_modifier &#x3D; <float> #Works similarly as placed_merchant_power but is increased on a % basis</li>
<li>Added reduced_liberty_desire_on_other_continent &#x3D; -20 #Works similarly to reduced_liberty_desire_on_same_continent, integer!</li>
<li>Added overextension_impact_modifier &#x3D; <float> #Reduces or Increases the impact of conquered provinces in regards to the overextension</li>
<li>Added artillery_level_modifier &#x3D; <float> #Country&#x2F;Army scope, (not to be confused with the one that allows using more artillery for a siege) multiplier for how much an artillery unit contributes towards a siege. E.g. 0.2 would mean a 20% bonus, so 5 artillery would count for 6</li>
<li>Added local_tolerance_of_heretics &#x3D; <double> #Province scope, works like Tolerance of Heretics, but on a province level so this means the province gets treated as if you have the global Tolerance of Heretics + the local value. (To make it more understandable: imagine you have +1 Tolerance of Heretics. All heretic provinces have -1 Local Unrest. A province with +1 Local Tolerance of Heretics would however now have -2 Local Unrest)</li>
<li>Added local_tolerance_of_heathens &#x3D; <double> #Province scope, works like local_tolerance_of_heretics, but for heathens instead</li>
<li>Added garrison_damage &#x3D; <float> #Country, modifies the damage the garrison deals when the fort gets assaulted or when you use the sortie to fight the hostile army</li>
<li>Added local_garrison_damage &#x3D; <float> #Province, modifies the damage the local garrison deals when the fort gets assaulted or when you use the sortie to fight the hostile army</li>
<li>Added assault_fort_cost_modifier &#x3D; <float> #Country, modifies the military cost to assault forts</li>
<li>Added local_assault_fort_cost_modifier &#x3D; <float> #Province, modifies the military cost to assault the fort of the province which has this modifier. This applies to the besieging force</li>
<li>Added assault_fort_ability &#x3D; <float> #Country&#x2F;Army&#x2F;Unit, modifies the damage your troops deal to the garrison when assaulting a fort</li>
<li>Added local_assault_fort_ability &#x3D; <float> #Province, modifies the damage assaulting troops would deal to the garrison. Here, negative numbers are green as you want to have the local version be negative.</li>
<li>Added vassal_manpower_bonus &#x3D; <float> #Country scope, modifies the bonus of manpower gained from their subjects. The manpower from the subject gained is defined in the subject_types script as manpower_to_overlord &#x3D; <float></li>
<li>Added vassal_sailors_bonus &#x3D; <float> #Country scope, modifies the bonus of sailors gained from their subjects. The manpower from the subject gained is defined in the subject_types script as sailors_to_overlord &#x3D; <float></li>
<li>Added vassal_naval_forcelimit_bonus &#x3D; <float> #Country scope, modifies the bonus to a country’s naval force limit from their subjects. The naval force limit gain is defined as naval_forcelimit_to_overlord &#x3D; <float></li>
<li>Added annexation_relations_impact &#x3D; <float> #Country scope (applied to the overlord), modifies the impact of the relations applied to all subjects when their overlord is annexing a subject. If you didn’t know: annexing subjects gives all other subjects -30 opinion.</li>
<li>Added can_revoke_parliament_seats &#x3D; yes #Country scope, allows you to remove seats from a province</li>
<li>Added parliament_backing_chance &#x3D; <float> #Country scope, modifies how many seats will back an issue in general</li>
<li>Added parliament_effect_duration &#x3D; <int> #Country scope, adds a flat number of years for an issue’s effects to prevail once passed. NOTE: No issue should have a lower time of year than 1 year.</li>
<li>Added parliament_debate_duration &#x3D; <int> #Country scope, adds a flat number of years of the time needed for an issue to get into the debate phase. If an issue would reach 0 or negative years then the issue is in the debate phase the day it is active.</li>
<li>Added parliament_chance_of_decision &#x3D; <float> #Country scope, adds an additional % chance to the chance of a debate is ended after PARLIAMENT_DEBATE_DURATION</li>
<li>Added num_of_parliament_issues &#x3D; <int> #Country scope, increases the max amount of issues you can pick from. The NUM_PARLIAMENT_ISSUES in the defines would be converted into a modifier with this.</li>
<li>Added max_possible_parliament_seats &#x3D; <int> #Country scope, which determines how many possible parliament seats your parliament can have. If the modifier is 0 or negative then your parliament can have unlimited parliament seats like how it is working now.</li>
<li>Added can_recruit_cawa &#x3D; yes</li>
<li>Added can_recruit_cossacks &#x3D; yes</li>
<li>Added can_recruit_rajputs &#x3D; yes</li>
<li>Added can_recruit_revolutionary_guards &#x3D; yes</li>
<li>Added naval_morale_damage &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship scope, modifies the amount of morale damage your navy deals</li>
<li>Added naval_morale_damage_received &#x3D; <float> #Country&#x2F;Fleet&#x2F;Ship scope, modifies the amount of morale damage your navy receives</li>
<li>Added has_&lt;special_unit&gt; &#x3D; yes #Country scope, unlocks the special unit for the country, and makes it available to be recruited. NOTE: I am aware that with the special units added for 1.35, we have decided to go with the &lt;special_unit&gt;_fraction_modifier &#x3D; <float> to make them available. However, we ran into the issue that certain special units would be available to countries that are not supposed to have them. Example: the amount of Tercios you can have should scale with the Army Tradition you have -&gt; we added the fracture modifier to Army Tradition. However, now everyone was able to recruit Tercios as long they had a single Iberian province (we assigned the local_has_tercio &#x3D; yes modifier to the Iberian culture group) which is NOT intended.</li>
<li>Added no_claim_cost_increasement &#x3D; yes #Country scope, removes the additional cost for fabricating a claim if you already have a claim on this country</li>
</ul>
<h3 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h3><ul>
<li>Added num_of_revolutionary_guard (not sure why it was missing).</li>
<li>Added num_of_special_units &#x3D; { special_unit_category &#x3D; &lt;special unit type, musketeer&#x2F;tercio&#x2F;streltsy etc&gt; type &#x3D; infantry&#x2F;cavalry&#x2F;artillery&#x2F;etc value &#x3D; <int> }.</li>
<li>Added years_of_manpower &#x3D; <float> #Country scope, returns true if the country has the float amount of years of manpower in their manpower pool. Works like “years_of_income”.</li>
<li>Added years_of_sailors &#x3D; <float> #Country scope, returns true if the country has the float amount of years of sailors in their sailor pool. Works like “years_of_income”.</li>
<li>Added Improve the tooltip of the trade_goods_produced_amount &#x3D; {} trigger.</li>
<li>Added has_been_humiliated_by &#x3D; <country scope> #Country scope, checks if the current country scope has been ever humiliated by the specified country.</li>
<li>Added humiliated &#x3D; <country scope> #Country scope, checks if the current country scope has humiliated the specified country.</li>
<li>Added has_saved_global_event_target &#x3D; <string> #Works exactly like has_saved_event_target, but instead checks for a global event target.</li>
<li>Added same_trade_node_as &#x3D; <province> #Province scope, returns true if the current scope is in the same trade node as the specified province.</li>
<li>Added same_home_trade_node_as &#x3D; <country> #Country scope, returns true if the current country scope has the same trade node as the home trade node as the specified country does.</li>
<li>Added has_owner_harmonized_religion &#x3D; yes #Province scope, returns true if the current province scope has a religion that is harmonized by its owner.</li>
<li>Added has_owner_secondary_religion &#x3D; yes #Province scope, returns true if the current province scope has a religion that is the secondary of its owner.</li>
<li>Added secondary_religion_group &#x3D; <religion group> #Country scope, returns true if the country has a religion of the specified religion group as its secondary religion.</li>
<li>Added has_assimilated_culture_group &#x3D; &lt;country&#x2F;province&#x2F;culture group id&gt; #Country scope, returns true if the country has assimilated the culture group of the specified country&#x2F;province or has assimilated a specified culture group. Works like accepted_culture.</li>
<li>Added has_assimilated_culture &#x3D; &lt;country&#x2F;province&#x2F;culture id&gt; #Country scope, returns true if the country has assimilated the culture of the specified country (in this case its primary culture)&#x2F;province or has assimilated a specified culture. Works like accepted_culture.</li>
<li>Added num_ships_protecting_trade &#x3D; <int> &#x2F; <country scope> #Country scope, returns true if the country has at least as many ships protecting trade as the specified country or the specified number.</li>
<li>Added has_protecting_trade_share_in_trade_node &#x3D; { who &#x3D; <country scope> share &#x3D; <float> } #Province scope (Trade node-specific), Returns true if the country has a certain percentage of the trade in a given node through its light ships protecting trade there.</li>
<li>Added num_of_pashas &#x3D; <int> #Country scope, returns true if the country has assigned Pashas in at least x areas.</li>
<li>Added transfers_trade_power_to &#x3D; <country scope> #Country scope, returns true if the current scope transfers trade power to the specified country.</li>
<li>Added steers_trade_to &#x3D; <country scope> #Country scope, returns true if the current scope steers trade to the specified country.</li>
<li>Added receives_trade_power_from &#x3D; <country scope> #Country scope, returns true if the specified country scope transfers trade power to the current country scope.</li>
<li>Added receives_trade_steering_from &#x3D; <country scope> #Country scope, returns true if the specified country scope steers trade to the current country scope.</li>
<li>Added has_advisor_type_in_pool &#x3D; <advisor type> #Country scope, returns true if any advisor of the specified advisor type is available for you to hire right now. Does not check for hired advisors.</li>
<li>Added possible_buildings &#x3D; <int> #Province scope, returns true if the amount of possible buildings in the province scope is equal to or higher than the specified int value.</li>
<li>Added trade_node &#x3D; <trade node id> #Province scope, returns true if the current scope is part of the specified trade node.</li>
<li>Added home_trade_node &#x3D; <trade node id> #Country scope, returns true if the current scope has its home trade node in the specified trade node.</li>
<li>Added owned_by_subject_of &#x3D; <country scope> #Province scope, returns true if the province is owned by a subject of the specified country scope.</li>
<li>Expanded the “employed_advisor” trigger with extra parameters: is_discounted &#x3D; yes #Checks if the advisor in question has a discount which is caused by the cost_multiplier &#x3D; <int> or the discount &#x3D; yes parameters from “define_advisor”, skill &#x3D; <int> #Checks if the advisor in question has a skill level or higher of the specified int, name &#x3D; <string> #Checks if the advisor has a certain name.</li>
<li>Added empire_of_china_num_reforms_passed &#x3D; <int> #Checks how many reforms the Emperor of China has passed.</li>
<li>Added empire_of_china_has_active_decree &#x3D; &lt;key&#x2F;yes&#x2F;no&gt; #Checks the current active Decree for the Emperor of China.</li>
<li>Added num_of_times_expanded_infrastructure &#x3D; <int> #Province scope, counts how many times a province has had its infrastructure expanded.</li>
<li>is_neighbor_of &#x3D; <tag> #Can now be used in province scope as well as country scope.</li>
<li>Added has_liberty_desire_modifier &#x3D; <key> #Checks for if a country has a particular liberty desire modifier.</li>
<li>Added has_eclipsed &#x3D; <country scope> #Country scope, returns true if the current scope is too powerful to select the specified country as a rival (aka. it eclipsed the target country).</li>
<li>Added has_been_eclipsed_by &#x3D; <country scope> #Country scope, returns true if the current scope is too weak to be selected by the specified country as a rival (aka. it has been eclipsed by the target country).</li>
<li>Added subject_owns &#x3D; <province scope> #Country scope, returns true if any subject owns the specified province</li>
<li>Added has_advisor_type_in_pool &#x3D; <advisor type> #Country scope, returns true if any advisor of the specified advisor type is available for you to hire right now. Does not check for hired advisors.</li>
<li>Added possible_buildings &#x3D; <int> #Province scope, returns true if the amount of possible buildings in the province scope is equal or higher than the specified int value</li>
<li>Added home_trade_node &#x3D; <trade node id> #Country scope, returns true if the current scope has its home trade node in the specified trade node</li>
<li>Added owned_by_subject_of &#x3D; <country scope> #Province scope, returns true if the province is owned by a subject of the specified country scope</li>
<li>Added years_of_manpower &#x3D; <float> #Country scope, returns true if the country has the float amount of years of manpower in their manpower pool. Works like “years_of_income”.</li>
<li>Added years_of_sailors &#x3D; <float> #Country scope, returns true if the country has the float amount of years of sailors in their sailor pool. Works like “years_of_income”.</li>
</ul>
<h3 id="其它-2"><a href="#其它-2" class="headerlink" title="其它"></a>其它</h3><ul>
<li>Government mechanics, powers and interactions are now fully scriptable (see &#x2F;government_mechanics&#x2F;readme.txt)tribal_allegiance is now a government power, so tribal_allegiance, is yearly.</li>
<li>Added the “Has Harem events” custom government attribute which now calls all the Harem-related events.</li>
<li>Split all the estate privileges from one file into several files * for each estate a file.</li>
<li>Now able to modulate the colors of decision entries.</li>
<li>Added on actions for religion and culture changing in a province * on_province_religion_changed and on_province_culture_changed.</li>
<li>Reforms of the Celestial Empire can use them all, member and province modifiers that the HRE uses</li>
<li>Added subject interaction seize_court_resources &#x3D; yes&#x2F;no #A subject interaction which gives your subject immediately +25% Liberty Desire and you 1 year’s worth of their monthly monarch power generation. No cooldown.</li>
<li>Added subject interaction request_extra_levies &#x3D; yes&#x2F;no #A subject interaction which gives your subject immediately +25% Liberty Desire and you 1 year’s worth of their manpower and sailors. No cooldown.</li>
<li>Added subject interaction grant_administrative_autonomy &#x3D; yes&#x2F;no #A subject interaction which gives your subject immediately -10% Liberty Desire and you -20 Reform Progress. No cooldown. Not available when you don’t have the reform progress</li>
<li>Added subject trait can_gain_favors &#x3D; yes&#x2F;no #A subject trait which allows the overlord to have favors with its subjects if it is set to “yes”. By default, overlords don’t gain any favors with subjects but trust instead. Due to the favor additions from a previous Jira, it should be added now so all these interactions can be used.</li>
<li>Added subject trait co_belligerent &#x3D; yes&#x2F;no #Enemies can force this subject to join its overlord in the defense war. Only used when the subject has the “joins_overlords_wars &#x3D; no”. By default, it’s “no”.</li>
<li>Added subject trait called_to_wars &#x3D; yes&#x2F;no #Overlord can ask the subject to join wars like it could ask allies to join. You would require favors to call them to wars. Only used when the subject has the “joins_overlords_wars &#x3D; no”. By default, it’s “no”</li>
<li>Added subject trait favors_cost_to_join_offensive_wars &#x3D; <int> #Defines how much favors the overlord needs to invest to call the subject into an offensive war</li>
<li>Added subject trait favors_cost_to_join_defensive_wars &#x3D; <int> #Defines how much favors the overlord needs to invest to call the subject into a defensive war</li>
<li>Added subject trait opinion_cost_to_join_offensive_wars &#x3D; <int> #Defines how much opinion the subject loses of the overlord to call the subject into an offensive war. Applied if you do not have Leviathan</li>
<li>Added subject trait opinion_cost_to_join_defensive_wars &#x3D; <int> #Defines how much opinion the subject loses of the overlord to call the subject into a defensive war. Applied if you do not have Leviathan</li>
<li>Added subject trait opinion_cost_instead_of_favors_cost &#x3D; yes&#x2F;no #Determines if the subject requires favors or opinion to join a war. If set “yes” then it requires the aforementioned opinion costs * regardless if Leviathan is active or not. “No” is the default setting</li>
<li>Added subject trait opinion_on_subject_integration &#x3D; -30 #Determines how much opinion they lose when a fellow subject gets integrated. Right now it is hardcoded to be -30 per integration but not every subject should be equally annoyed by it.</li>
<li>Added the government attribute can_inherit_personal_unions &#x3D; yes&#x2F;no #En* or disables the ability to inherit PUs</li>
<li>Added the government attribute force_general_leader &#x3D; yes&#x2F;no #”yes” forces your ruler to become a general when he gets to power. Works like force_admiral_leader &#x3D; yes. “no” is the default setting</li>
<li>Added the government attribute block_cultural_union &#x3D; yes&#x2F;no #”Yes” disables Cultural Unions entirely for you. “yes” is the default setting and doesn’t change anything</li>
<li>Added the government attribute has_cultural_union &#x3D; yes&#x2F;no #”yes” means that your country has the cultural union already regardless of your development or government rank. “no” is the default setting and lets you behave like normal</li>
<li>Added the government attribute has_pasha &#x3D; yes and separated it from has_janissaries &#x3D; yes</li>
<li>Added the privilege argument loyalty_scaled_conditional_modifier &#x3D; { trigger &#x3D; { <triggers> } modifier &#x3D; { <modifiers> } } #(at 100% Loyalty &#x3D; 100% effect of the modifier)</li>
<li>Added the privielge argument influence_scaled_conditional_modifier &#x3D; { trigger &#x3D; { <triggers> } modifier &#x3D; { <modifiers> } } #(at 100% Influence &#x3D; 100% effect of the modifier)</li>
<li>Added the privilege mechanic no_estate_crownland_loss_from_developing #Prevents crown land loss for an estate from developing provinces</li>
<li>Added on_colony_finished &#x3D; {} #ROOT &#x3D; is the colony which just finished, fires whenever a province gets colonized * regardless if it was done by a colonist or not (which means Siberian Frontier colonies would trigger this on_action too when they done)</li>
<li>Added on_colony_established &#x3D; {} #Is called when a province gets fully colonized * either through a colonist or through the Siberian Frontier. ROOT &#x3D; province, FROM &#x3D; country which colonizes the province</li>
<li>Added on_colonial_nation_established &#x3D; {} #Is called when a colonial nation is created. ROOT &#x3D; the new colonial nation, FROM &#x3D; the overlord of the colonial nation.</li>
<li>Added on_advisor_hired &#x3D; {} #ROOT &#x3D; is the country which hires the advisor, fires for all categories</li>
<li>Added on_adm_advisor_hired &#x3D; {} #ROOT &#x3D; is the country which hires the advisor, fires for the adm category</li>
<li>Added on_dip_advisor_hired &#x3D; {} #ROOT &#x3D; is the country which hires the advisor, fires for the dip category</li>
<li>Added on_mil_advisor_hired &#x3D; {} #ROOT &#x3D; is the country which hires the advisor, fires for the mil category</li>
<li>Added on_core &#x3D; {} #ROOT &#x3D; province which gets cored, FROM &#x3D; coring country, fires whenever a province gets cored by a country * either through the manual action or through the “add_core &#x3D; <country>“ effect</li>
<li>Added on_adm_tech_taken &#x3D; {} #ROOT &#x3D; is the country that is taking a new admin tech</li>
<li>Added on_dip_tech_taken &#x3D; {} #ROOT &#x3D; is the country that is taking a new diplomatic tech</li>
<li>Added on_mil_tech_taken &#x3D; {} #ROOT &#x3D; is the country that is taking a new military tech</li>
<li>Added on_barrage &#x3D; {} #ROOT &#x3D; is the country using barrage on the province, FROM &#x3D; is the province which gets barraged</li>
<li>Added on_naval_barrage &#x3D; {} #ROOT &#x3D; is the country using naval barrage on the province, FROM &#x3D; is the province which gets naval barraged</li>
<li>Added on_scorch_earth &#x3D; {} #ROOT &#x3D; is the country using scorch earth on the province, FROM &#x3D; is the province which gets scorched</li>
<li>Added on_parliament_debate_reset &#x3D; {} # ROOT &#x3D; country</li>
<li>Added on_parliament_seat_given &#x3D; {} # ROOT &#x3D; province, triggers when you give a seat to a province</li>
<li>Added on_parliament_seat_lost &#x3D; {} # ROOT &#x3D; province, triggers when a province loses its parliament seat</li>
<li>Added on_alliance_broken &#x3D; {} #Country scope, triggers when an alliance gets dissolved * it does not matter how (be it through the diplomatic action, through a war, through a peace treaty or through one of the partners becoming the subject of the other county) ROOT &#x3D; is the “first” alliance partner which means the country which created the alliance, FROM &#x3D;, is the “second” alliance partner who accepted the alliance offer</li>
<li>Added on_royal_marriage_broken &#x3D; {} #Country scope, triggers when a royal marriage gets dissolved * it does not matter how (be it through the diplomatic action, through a war, through a peace treaty or through one of the partners becoming the subject of the other county) ROOT &#x3D; is the “first” partner which means the country which originally offered the royal marriage, FROM &#x3D;, is the “second” alliance partner who accepted the offer</li>
<li>Added on_mandate_reform_passed &#x3D; {}</li>
<li>Added mercenary trait counts_towards_force_limit &#x3D; no #Removes the contribution to the force limit from the mercenary company when hired</li>
<li>Added mercenary trait max_size &#x3D; <int> #Limits the size of this mercenary company. If a merc company would be larger than the max size allows then every additional “would be” regiment will be transferred to the company’s manpower pool. If not set or if “-1” then it is the default setting.</li>
<li>Added mercenary trait min_size &#x3D; <int> #Limits the minimum size of this mercenary company. So if you hire a merc company it will ALWAYS have at least as many regiments as min_size demands it to be. If it’s bigger than “max_size” then it should throw an error in the error log and be deactivated. If not set or if “-1” then it is the default setting.</li>
<li>Added mercenary trait no_additional_manpower_from_max_size &#x3D; yes #A flag for the merc company which disallows the behavior that every single additional “would be” regiment over max_size will be turned into company manpower. “no” is the default.</li>
<li>Added mercenary trait manpower_pool &#x3D; <double> #Defines how large the manpower pool of the merc company is. Merc Manpower modifier uses this as the base to modify. At default, it is -1 which means it just uses the normal way of calculating the available manpower for the merc company</li>
<li>Added building argument on_construction_started &#x3D; { <effects on province scope> } #Gets called when you start building a building</li>
<li>Added building argument on_construction_canceled &#x3D; { <effects on province scope> } #Gets called when you cancel a building construction</li>
<li>Centers of Reformation can now spawn in other continents than the ones of their religion’s center_of_religion</li>
<li>Added the scripted function can_remove_idea_group which can disallow you to remove idea groups</li>
<li>Added potential &#x3D; {} to decrees, fervors, golden_bulls, isolationism, personal_deities, gurus and trading policies</li>
<li>Added trigger &#x3D; {} to decrees and fervors. Replaced “allowed &#x3D; {}” of personal_deities with “trigger &#x3D; {}”</li>
<li>Added the define JANISSARIES_STARTING_STRENGTH</li>
<li>Added the define JANISSARIES_STARTING_MORALE</li>
<li>Added land_units_killed_var, land_units_lost, naval_units_killed_var and naval_units_lost variables which are set after each battle. They do not count the total amount of killed units throughout the game.</li>
<li>Added argument for parliament issues backing_percentage &#x3D; <int> #Determines how many seats will back up the issue. backing_percentage &#x3D; 100 would mean all seats would back it up, backing_percentage &#x3D; 0 means no seat backs it up. If undefined then the game uses the PARLIAMENT_BACKING_PERCENTAGE from Defines</li>
<li>Added argument for parliament issues effect_duration &#x3D; <int> #Determines how long the effects of a passed debate last, and also the amount of time before you can debate the next issue after passing one. If undefined then the game uses the PARLIAMENT_EFFECT_DURATION from the Defines.</li>
<li>Added argument for parliament issues debate_duration &#x3D; <int> #Determines how long the debate will go before it gets into the phase where it can be randomly closed. If undefined then the game uses the PARLIAMENT_DEBATE_DURATION from the Defines.</li>
<li>Added argument for parliament issues chance_of_decision &#x3D; <float> #Determines the chance debate is ended after debate_duration &#x2F; PARLIAMENT_DEBATE_DURATION. Defaults to PARLIAMENT_CHANCE_OF_DECISION</li>
<li>Added argument for parliament bribe chance &#x3D; { factor &#x3D; <float> } #chance argument for a bribe to appear. Parliament issues already have this chance section</li>
<li>Added scope papal_controller &#x3D; {} #Scopes to the Papal Controller</li>
</ul>
<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><h3 id="成就"><a href="#成就" class="headerlink" title="成就"></a>成就</h3><ul>
<li>成就“波罗的海十字军”现在不再要求你殖民两块乌拉尔地区的省份（很抱歉这本来应该早点修复的）。</li>
<li>成就“印度之主”在拥有一名拥有着整个印度的附属国的情况下也可以完成。</li>
<li>成就“为了皇帝”在你选择扮演释放出来的属国的情况下也可以完成，总之我们不是有意限制这种方式的。</li>
</ul>
<h3 id="决议"><a href="#决议" class="headerlink" title="决议"></a>决议</h3><ul>
<li>Confirming Thalossacracy now unlocks a new government reform for tier 8 which allows you to establish Trade Protectorates.</li>
<li>The “Rein in Italy” has now a better tooltip, explaining what you are supposed to do.</li>
<li>The decision “Formalize Separation of Powers” is now available to every country with a parliament. The modifier “Separation of Power” now also gives a +3% Backing Chance for Parliament Issues.</li>
<li>The piety gained from Muslim decisions is now negative when you have negative Piety already.</li>
<li>Forming Egypt will no longer force you into a kingdom rank if you are already an empire.</li>
<li>Junior partners can adopt the Hussite faith via decision, their ruler will remain their overlord’s religion.</li>
<li>Gaining the Sich Rada from the decision no longer blocks the decision. This means you will always have the opportunity to regain this reform.</li>
<li>Decisions that change your government will no longer remove reform levels.</li>
</ul>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><ul>
<li>Nzinga of Ndongo and Matamba is now of whatever culture you are.</li>
<li>Nahuatl Event ‘Pochteca Traders Harassed’ no longer grants a CB that lasts 152 years.</li>
<li>You can now see the “X Institution has Spawned” event even if you can’t see its origin.</li>
<li>Granting Malta to the Knights will now give access to the San Juan Holy Order for owners of the Golden Century DLC.</li>
<li>The Nordic countries will no longer flip back to Catholicism when they proceed in their mission trees.</li>
<li>The Ethiopian AI will no longer move its capital through an event to a province that has not been fully colonized yet.</li>
<li>The Sisters Takeover for Orleans now gives a unique Tier 1 government reform.</li>
<li>The event for unifying the HRE will no longer create a grocery list that tries to escape the screen.</li>
<li>The event “A Helping Hand” now costs max 500 Ducats when you decide to get an advisor.</li>
<li>The event “The Maid of $PROVINCE$” no longer removes legitimacy for the PU overlord. Also, the general generated has now 50 Army Tradition and is always female.</li>
<li>Added an event to the mission tree of Finland which allows you to change your name to one of the Finish Empires.</li>
<li>Added an event to the Kongo mission tree which asks you if you want to become a monarchy or stay as a tribe.</li>
<li>The event “Consultation of the Monasteries” gives now Karma scaled with the amount of Karma you have right now. As an example: if you are above 90 Karma you would lose 25, above 50 you lose 15, above 25 you lose 10 and otherwise you lose 5. Vice versa for negative Karma is also true.</li>
<li>Good Monsoons now give +20% Local Tax Modifier instead of -20% Local Dev Cost.</li>
<li>The event “The Agenda of the Diet” now supports up to 6 estates at the same time instead of just 3.</li>
<li>Added an event that fires when you dissolve the Holy Roman Empire. The events give now the 100 Prestige (which turn into Monarch Power when overflowing), 200 Splendor, and 25 Power Projection.</li>
<li>The event Event A Helping Hand will not fire if all owned great projects are already fully upgraded.</li>
</ul>
<h3 id="理念"><a href="#理念" class="headerlink" title="理念"></a>理念</h3><ul>
<li>Norse ideas no longer overwrite all of your ideas if you just happen to have the Norse culture and religion.</li>
<li>Ruthenian’s ideas have been buffed. They have now 20% Manpower Recovery Speed and -10% Morale Damage Received in their traditions. Foreign Influence now gives +2 Number of Accepted Cultures and -25% Promote Culture Cost. Zaporizhian Cossacks now give +1 Privilege Slots to the Cossacks. Reuniting Rus gives now -a 10% Core Creation Cost and Birth of Russian Orthodoxy now increases Tolerance of True Faith by 2 and Yearly Patriarch Authority by 0.5.</li>
<li>All ideas which increase Land Forcelimit Modifiers by 33% have their value decreased to 25%.</li>
<li>Russia’s ideas have been adjusted. Their tradition now gives -a 15% Core Creation Cost. Land of the Rus now gives -a 15% AE reduction. Life-long Conscription now increases the Land force limit by 33% instead of 50%. Abolishing the Mestnichestvo now decreases the Nobility’s Influence by 10%.</li>
<li>Ideas that have a Free Leader have their ideas now altered. Traditions and Ambitions with the Free Leader have a new modifier replacing the leader one. Everywhere else a second idea has been added.</li>
<li>The English idea “Bill of Rights” now gives +1 Num of Parliament Issues. The English Ambition now gives +10% Morale for Navies.</li>
<li>Reworked Siamese ideas and nerfed their power level considerably.</li>
<li>Added +2 Artillery Shock to Smolensk’s ideas. BOOM!.</li>
<li>The British ideas of “Merchant Navy” and “City Upon a Hill” have been combined into one. Instead of the “Merchant Navy” idea, GB now gets the “British Parliament” idea, giving -1 Global Unrest and +1 Number of available Issues.</li>
<li>Orisa’s tradition now gives +10% Production Efficiency (previously +5%).</li>
<li>Adjusted the Ottoman ideas. They now have -25% CCR (previously -20%), +15% Global Tax (previously +10%), +10% Reform Progress Growth (new), -2 Global Unrest (replacing the -10% War Exhaustion Reduction Cost) and +0.5 Yearly Naval Tradition (new).</li>
<li>Qing’s Core Creation Cost from its ideas has been buffed from 20% to 25% so it can keep up with Yuan.</li>
<li>Adjusted the French ideas. They now have -50% War Taxes Cost (in addition to +10% National tax), +15% Morale of Armies and +0.5 Yearly Army Tradition (replacing +20% Morale of Armies), National Unrest -1 and +10% Reform Progress Growth (replacing the +1 Diplomatic Relation), -10% Core Creation Cost and +5 Maximum Absolutism (replacing the -10% Technology Cost), +15% Fort Defense and +50% Garrison Army Damage (instead of -20% Fort Maintenance), and -10% Development Cost as a Tradition (replacing the +2 Tolerance of Heretics and +2 Tolerance of Heathens).</li>
<li>Added a new set of National Ideas for Revolutionary France.</li>
<li>Adjusted the Spanish Ideas. They now have Church Power and Fervor in case of being Protestant or Reformed (added to Devout Christianism), replaced the Treasure Fleet idea with the Castilian idea School of Salamanca and added +10% Reform Progress Growth to it, A Spanish Armada now gets +25% Naval Force Limit modifier (replaces +1 Naval Leader Maneuver, which has been moved to Grand Armada Naval Doctrine), added -5 Estate Loyalty on Revoking Privileges to Rein in the Cortes.</li>
<li>Adjusted the Castilian ideas. The Tradition now has a +25% Naval Force Limit Modifier (replaces +25% Marines Force Limit), and +10% Reform Progress Growth (added to School of Salamanca idea).</li>
</ul>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><ul>
<li>You can now complete the Polish mission ‘Delegate with the Emperor’ as the Emperor of the HRE.</li>
<li>The English “Strategic Control” is no longer soft-blocked when you force a PU over France before finishing the mission.</li>
<li>The Burgundian mission “Chivalry is not Dead” now gives +25 Permanent Power Project. This is mostly a small addition to them as the Angevin Kingdom uses the same event.</li>
<li>The Polish mission ‘Break Livonia’ now grants claims to conquer Pomerania.</li>
</ul>
<h3 id="开局设定"><a href="#开局设定" class="headerlink" title="开局设定"></a>开局设定</h3><ul>
<li>Added a missing escalated level of crownland between 80 and 100.</li>
<li>Renamed the province Kelang to Tamsui.</li>
<li>Valladolid is now part of the North Castile area and Asturias is now part of the Leon area.</li>
<li>Renamed the Asturias and Castile areas to North and South Castile.</li>
<li>Changed the trade goods of many provinces in Iberia to better reflect historical accuracy.</li>
<li>Muscovy is now a Historical Rival of the Great Horde.</li>
<li>Aveiro and Algarvae now produce Salt.</li>
<li>The Patagonia and Amazonas trade node now has a connection to Cuiaba. Lima has now a connection to the Polynesian Triangle. These changes aim to make colonizing South America more profitable for Asian countries.</li>
<li>Zaporizhzhia has now Eastern technology instead of Nomad one.</li>
<li>The Hudson Bay Trade now flows into California.</li>
<li>The Anatolian minors now start with the Beylik government reform.</li>
<li>All French appanages now start with the Appanage government reform.</li>
<li>The starting ruler of Augsburg now remembers that he went to university at some point and has gained 4 Diplo points.</li>
<li>The Great Horde has now its capital in Sarai. Additionally, Sarai now starts with the “Tatar Yoke” triggered province modifier if Domination is active.</li>
</ul>
<h3 id="其它-3"><a href="#其它-3" class="headerlink" title="其它"></a>其它</h3><ul>
<li>You will no longer be informed that seizing land will cause rebels when you have a government reform that disables rebels spawning from seizing crown land.</li>
<li>Colonial subjects should no longer get access to “Establish a Colonial Subject” Estate Agendas.</li>
<li>Pashas now give -20% Local Governing, 20% Local Minimum Autonomy, -0.1 Monthly Local Autonomy (basically, they have a higher base Autonomy, but they reach this base faster now), -33% Local State Maintenance Modifier and +10 Local Tolerance of Heathens.</li>
<li>Zhuang can now be sinicized.</li>
<li>The Zacatecas Great Project now ensures the province has Gold.</li>
<li>AI has now a 90% chance to automatically complete an estate agenda.</li>
<li>Self Governing Colonies now have access to Burghers and Nobles. (Note: Judging the events for the colonies, they were intended to have them ever since 1.31…).</li>
<li>Combined the special unit custom nation ideas into one.</li>
<li>Moved many random events from the bi-yearly pulse to an empty 4-yearly pulse to increase performance and, paradoxically, make them more likely to fire in the game.</li>
<li>The state edict “Centralization Effot” now decreases local autonomy by -0.03 instead of.</li>
<li>The global modifier “Disembark Time” has been renamed into “Disembark Speed”.</li>
<li>All Estate disasters can now gain progress unless their respective estate hast at least 60% Loyalty instead of 50%.</li>
<li>Forming the Holy Roman Empire with Domination adds a new Holy Imperial Monarchy to your country.</li>
<li>The Ikko-Ikki rebels will now try to enforce the Ikko-Ikki government reform.</li>
<li>The admin costs of Subject Upgrades now scale down with all power cost modifiers.</li>
<li>The French Wars of Religion can now also fire if you are Hussite or Anglican.</li>
<li>Forming Scandinavia while having the Unified Kalmar Monarchy reform will now form Scandinavia but with the “Kalmar Union” as a name and the yellow from the flag as the map color.</li>
<li>The Religious Turmoil disaster can now fire for Hussite and Anglican countries too.</li>
<li>Added a Casus belli for Confucian nations against countries with other religions when you get the “Deus Vult” CB or when you finish Humanist ideas. The reason for this addition is the impossibility to use the Deus Vult CB against countries which religion you have harmonized with.</li>
<li>Added the “Sultanate of Rûm” and the “Ruthenian Tsardom” as new government reforms for Rûm and Ruthenia.</li>
<li>The triggered province modifier “Paektu Mountain” can now be active too if the religion of the province is Mahayana.</li>
<li>The triggered modifier for the occupation of Rome is now province-triggered.</li>
<li>Mali is no longer an endgame tag.</li>
<li>You can no longer gain the “Babbling Buffoon” ruler trait if you have more than 5 diplomatic stats.</li>
<li>The Naval Doctrine of Portugal now decreases Naval Barrage cost by 50%.</li>
<li>Replaced the bonus for the Korean naval doctrine with a +20% Hull Size Modifier.</li>
<li>Estate breakaways from the Cossacks are now Eastern and have the Sich Rada reform. They are no longer hordes.</li>
<li>The Unify China Casus belli now gives only territorial cores instead of full cores upon occupying a province.</li>
<li>Strong Duchies is now available if you have a combination of 2 marches, vassals or personal unions.</li>
<li>The government reform “Separate the Clergy from State” now also disables the Brahmin’s estate.</li>
<li>The Teutons are properly no longer accepted to join the HRE when they choose to stick to their crusader path.</li>
<li>Re-enabled the event “National decline”.</li>
<li>The event “Prospering Times” now upgrades a province greatly as it is a one-time-only event for countries.</li>
<li>The event “Incompetent Cousin” now specifies which of your subjects the cousin has.</li>
<li>Adjusted the colonial borders of the new world so they no longer split areas apart.</li>
<li>Added to the events “The Republic of Salé” and “The Pirate Queen of Tétouan” a third option that allows you to ignore the Pirate Republic entirely. The AI will still always release the pirates.</li>
<li>The Naval Doctrine ‘Grand Armada’ now also grants +25 Marines force limit +1 Naval Leader Maneuver.</li>
</ul>
<h2 id="Bug修复"><a href="#Bug修复" class="headerlink" title="Bug修复"></a>Bug修复</h2><ul>
<li>Fixed OOS related to cardinal IDs.</li>
<li>Fixed desync related to countries that are called to join a war but haven’t yet for hot joiners.</li>
<li>Fixed CTD related to losing merchants when the trade node interface is open.</li>
<li>Fixed a desync that could happen when a country changes religion, invites a religious scholar, and there’s a player that’s lagging enough.</li>
<li>Fixed so the build flagship button is greyed out when light ships cost more than heavies and you can’t afford it.</li>
<li>Fixed OOS related to modifier from trade centers applied to countries not resetting when trade center decreases in level.</li>
<li>OOS fix related to mercenary companies keeping track of which country they belong to, which didn’t handle tag switching.</li>
<li>Fixed issue with automated improved relations entry text in outliner that wouldn’t align to the right.</li>
<li>Fixed so that terrain bonus for combat map marker is displayed positive for positive values.</li>
<li>Improved logic for automatically computing the amount of money when demanding&#x2F;offering peace.</li>
<li>Fixed issues with random factors regarding missions and their events always being the same.</li>
<li>Fixed a crash related to government reform properties not existing.</li>
<li>Moved federation strength computation to code, removed script functions with effects due to them causing crashes&#x2F;desyncs.</li>
<li>Fixed an issue where the “carolean_infantry” where mentions Cawa units instead of Carolean units.</li>
<li>Fixed policies “Diplomatic Consolidation Act” and “Colonial Improvement Act” not displaying any value in the policy window.</li>
<li>Fixed on actions triggers when culture and religion change via the events.</li>
<li>Fixed desync in great projects executing on_built effect when loading a save game.</li>
<li>Fixed issue with ambient map objects visibility is reset after loading a save.</li>
<li>The event “Muslim-Born Men Enroll as Janissaries” gives now 5% Discipline to the Janissaries instead of a pathetic 1.5% (which was originally supposed to be 15% Discipline apparently…).</li>
<li>Fixed several script-related errors which inflated the error log over the period of a game.</li>
<li>Fixed a race condition crash related to AI taking decisions.</li>
<li>The special_units_forcelimit modifier now applies to all special units.</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>Paradox 论坛：<a target="_blank" rel="noopener" href="https://forum.paradoxplaza.com/forum/index.php?threads/1578390" title="forum:1578390">EU4: 1.35 Domination is now LIVE! Checksum [d460] - NOT FOR PROBLEM REPORTS!</a></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">公爵</div><div class="post-copyright__author_desc">🌄以指键之轻，承载知识之重📚</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.gjcloak.top/10135e41.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://blog.gjcloak.top/10135e41.html')">《欧陆风云4》1.35版本</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.gjcloak.xyz/images/微信无金额.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.gjcloak.xyz/images/微信无金额.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.gjcloak.xyz/images/QQ.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.gjcloak.xyz/images/QQ.png" alt="QQ"/></a><div class="post-qr-code-desc">QQ</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.gjcloak.top/10135e41.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=《欧陆风云4》1.35版本&amp;url=https://blog.gjcloak.top/10135e41.html&amp;pic=https://cos.gjcloak.xyz/pigo/202208200901599.jpeg?imageMogr2/format/webp/interlace/1/quality/0" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.gjcloak.top" target="_blank">公爵书房</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/EU4/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>EU4<span class="tagsPageCount">25</span></a><a class="post-meta__box__tags" href="/tags/%E6%AC%A7%E9%99%86%E9%A3%8E%E4%BA%914/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>欧陆风云4<span class="tagsPageCount">25</span></a><a class="post-meta__box__tags" href="/tags/%E6%97%A5%E5%BF%97/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>日志<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/%E6%9B%B4%E6%96%B0/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>更新<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/%E7%89%88%E6%9C%AC/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>版本<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://cos.gjcloak.xyz/pigo/202208150747054.jpeg?imageMogr2/format/webp/interlace/1/quality/0" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/de6a4da1.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207232008804.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">《欧陆风云4》发布新DLC——霸业</div></div></a></div><div class="next-post pull-right"><a href="/81049e81.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207260809087.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">4月21日，农历三月初二，星期五!</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2213.html" title="Europa Universalis IV: Patch 1.35.6 is Now Live! - Checksum [1ede] - NOT FOR PROBLEM REPORTS!"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208030939595.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-07-07</div><div class="title">Europa Universalis IV: Patch 1.35.6 is Now Live! - Checksum [1ede] - NOT FOR PROBLEM REPORTS!</div></div></a></div><div><a href="/1756133f.html" title="1.31.3版本自建国任务树、国旗、思潮、秘笈、变量等"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207290834099.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-22</div><div class="title">1.31.3版本自建国任务树、国旗、思潮、秘笈、变量等</div></div></a></div><div><a href="/52.html" title="欧陆风云4汉化mod安装教程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207260809898.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2019-12-04</div><div class="title">欧陆风云4汉化mod安装教程</div></div></a></div><div><a href="/54.html" title="【欧陆风云4】黄埔兵书之序言"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208050833367.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2020-04-18</div><div class="title">【欧陆风云4】黄埔兵书之序言</div></div></a></div><div><a href="/125.html" title="【欧陆风云4】黄埔兵书 之 综合国力篇"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208011715447.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2020-12-02</div><div class="title">【欧陆风云4】黄埔兵书 之 综合国力篇</div></div></a></div><div><a href="/fe8da796.html" title="EU4 1.35 CE 铁人控制台STEAM [20230418 更新]1.35.0版"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207260808485.jpeg?imageMogr2/format/webp/interlace/1/quality/0" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-21</div><div class="title">EU4 1.35 CE 铁人控制台STEAM [20230418 更新]1.35.0版</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Artalk</span></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="artalk-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-top" title="点击展开"><div class="card-info-avatar"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="writing_hand" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/270d.png">✍️</g-emoji><span>working</span></div></div></div></div><div class="author-info__description">这有关于P社相关的攻略教程，也有文章翻译和分享。相信你可以在这里找到对你有用的知识和教程。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">公爵</h1><div class="author-info__desc">🌄以指键之轻，承载知识之重📚</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/gongjuecloak" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=763771418@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/3054324" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E5%8C%85%E7%89%B9%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">扩展包特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%8D%E8%B4%B9%E7%89%B9%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">免费特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%B9%B3%E8%A1%A1"><span class="toc-number">3.</span> <span class="toc-text">游戏平衡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E6%B5%8E"><span class="toc-number">3.1.</span> <span class="toc-text">经济</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BF%E5%BA%9C"><span class="toc-number">3.2.</span> <span class="toc-text">政府</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%97%E6%95%99"><span class="toc-number">3.3.</span> <span class="toc-text">宗教</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D"><span class="toc-number">3.4.</span> <span class="toc-text">单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%98%E4%BA%89%E4%B8%8E%E5%92%8C%E5%B9%B3"><span class="toc-number">3.5.</span> <span class="toc-text">战争与和平</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">3.6.</span> <span class="toc-text">其它</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AI"><span class="toc-number">4.</span> <span class="toc-text">AI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E4%BA%A4"><span class="toc-number">4.1.</span> <span class="toc-text">外交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83-1"><span class="toc-number">4.2.</span> <span class="toc-text">其它</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2"><span class="toc-number">5.</span> <span class="toc-text">界面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BD%E5%AE%B6"><span class="toc-number">5.1.</span> <span class="toc-text">国家</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">5.2.</span> <span class="toc-text">提示信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D%E6%A8%A1%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">单位模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%A8%A1%E7%BB%84%E5%88%B6%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">用户模组制作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">6.1.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-number">6.2.</span> <span class="toc-text">效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%AD%A3"><span class="toc-number">6.3.</span> <span class="toc-text">修正</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.4.</span> <span class="toc-text">触发器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83-2"><span class="toc-number">6.5.</span> <span class="toc-text">其它</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC"><span class="toc-number">7.</span> <span class="toc-text">脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%B0%B1"><span class="toc-number">7.1.</span> <span class="toc-text">成就</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B3%E8%AE%AE"><span class="toc-number">7.2.</span> <span class="toc-text">决议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">7.3.</span> <span class="toc-text">事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E5%BF%B5"><span class="toc-number">7.4.</span> <span class="toc-text">理念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1"><span class="toc-number">7.5.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%B1%80%E8%AE%BE%E5%AE%9A"><span class="toc-number">7.6.</span> <span class="toc-text">开局设定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83-3"><span class="toc-number">7.7.</span> <span class="toc-text">其它</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bug%E4%BF%AE%E5%A4%8D"><span class="toc-number">8.</span> <span class="toc-text">Bug修复</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">9.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0.html" title="Hexo 条件勾选后显示评论"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208150747054.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo 条件勾选后显示评论"/></a><div class="content"><a class="title" href="/0.html" title="Hexo 条件勾选后显示评论">Hexo 条件勾选后显示评论</a><time datetime="2023-07-26T07:08:20.000Z" title="发表于 2023-07-26 15:08:20">2023-07-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/54e10c35.html" title="7月26日，农历六月初九，星期三!"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208091512401.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7月26日，农历六月初九，星期三!"/></a><div class="content"><a class="title" href="/54e10c35.html" title="7月26日，农历六月初九，星期三!">7月26日，农历六月初九，星期三!</a><time datetime="2023-07-25T23:30:00.000Z" title="发表于 2023-07-26 07:30:00">2023-07-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/13d4badf.html" title="7月25日，农历六月初八，星期二!"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202207252244414.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7月25日，农历六月初八，星期二!"/></a><div class="content"><a class="title" href="/13d4badf.html" title="7月25日，农历六月初八，星期二!">7月25日，农历六月初八，星期二!</a><time datetime="2023-07-24T23:30:03.000Z" title="发表于 2023-07-25 07:30:03">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/5191f8fd.html" title="7月24日，农历六月初七，星期一!"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208030938781.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7月24日，农历六月初七，星期一!"/></a><div class="content"><a class="title" href="/5191f8fd.html" title="7月24日，农历六月初七，星期一!">7月24日，农历六月初七，星期一!</a><time datetime="2023-07-23T23:30:03.000Z" title="发表于 2023-07-24 07:30:03">2023-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3631c85f.html" title="7月23日，农历六月初六，星期天!"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202208020750044.jpeg?imageMogr2/format/webp/interlace/1/quality/0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7月23日，农历六月初六，星期天!"/></a><div class="content"><a class="title" href="/3631c85f.html" title="7月23日，农历六月初六，星期天!">7月23日，农历六月初六，星期天!</a><time datetime="2023-07-22T23:30:02.000Z" title="发表于 2023-07-23 07:30:02">2023-07-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="null" alt="null" title="null"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" style="margin-inline:5px" data-title="本站使用又拍云为静态资源提供CDN加速" title="本站使用又拍云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202307300809655.svg" alt="本站使用又拍云为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35020502000606" style="margin-inline:5px" data-title="闽公网安备35020502000606号" title="闽公网安备35020502000606号"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.gjcloak.xyz/pigo/202307300808149.svg" alt="闽公网安备35020502000606号"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2022 - 2023 By <a class="footer-bar-link" href="https://blog.gjcloak.top" title="公爵" target="_blank">公爵</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" title="赣ICP备2022001242号-1">赣ICP备2022001242号-1</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://umami.5plus.top/share/xGcQ7bgT7IgnJAN9/%E5%85%AC%E7%88%B5%E4%B9%A6%E6%88%BF" title="访客足迹">访客足迹</a></div></div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">544</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">319</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://www.foreverblog.cn/go.html"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 虫洞</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=156642394&amp;server=netease&amp;type=playlist/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/goods/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的好物</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch_commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.1.1/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("01/19/2022 13:09:46"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "";
      img.title = "";
      img.alt = "";

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.gjcloak.top/',
      region: '',
      onCommentLoaded: function () {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.gjcloak.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init();
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.cbd.int/twikoo@1.6.17/dist/twikoo.all.min.js').then(runFn)
  }
  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><script>function addArtalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.cbd.int/artalk@2.5.5/dist/Artalk.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadArtalk () {
  function initArtalk () {
    window.artalkItem = new Artalk(Object.assign({
      el: '#artalk-wrap',
      server: 'https://artalk.gjcloak.top/',
      site: '公爵书房',
      pageKey: location.pathname,
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      countEl: '.artalk-count'
    },null))
  }

  if (typeof window.artalkItem === 'object') setTimeout(()=>{initArtalk()},200)
  else {
    addArtalkSource()
    typeof Artalk !== 'function' ? getScript('https://cdn.cbd.int/artalk@2.5.5/dist/Artalk.js').then(initArtalk)
                                : setTimeout(()=>{initArtalk()},200)
  }
}

document.getElementById('darkmode').addEventListener('click',()=> {
  if (typeof window.artalkItem !== 'object') return
  let isDark = document.documentElement.getAttribute('data-theme') === 'dark'
  window.artalkItem.setDarkMode(!isDark)
})


if ('Twikoo' === 'Artalk' || !false) {
  if (false) anzhiyu.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
  else loadArtalk()
} else {
  function loadOtherComment () {
    loadArtalk()
  }
}</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "one@gjcloak.top";</script><script>//动态标题
let leaveTitle = 'w(ﾟДﾟ)w 不要走！再看看嘛！';
let backTitle = '♪(^∇^*)欢迎肥来！';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //离开当前页面时标签显示内容
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //返回当前页面时标签显示内容
    document.title = backTitle + OriginTitile
    //两秒后变回正常标题
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// 初始化函数
let rm = {};

//禁止图片与超链接拖拽
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// 显示菜单
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// 隐藏菜单
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// 尺寸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// 重新定义尺寸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // 获取宽度和高度
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// 获取点击的href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //加10是为了防止显示时鼠标遮在菜单上
    let pageY = event.clientY;

    //其他额外菜单
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // 判断模式 扩展模式为有事件
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // 检查是否需要复制 是否有选中文本
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //检查是否右键点击了链接a标签
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //检查是否需要复制图片
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // 判断是否为输入框
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //判断是否是音乐
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // 如果不是扩展模式则隐藏扩展模块
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // 鼠标默认显示在鼠标右下方，当鼠标靠右或靠下时，将菜单显示在鼠标左方\上方
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// 监听右键初始化
window.oncontextmenu = oncontextmenuFunction

// 下载图片状态
rm.downloadimging = false;

// 复制图片到剪贴板
rm.writeClipImg = function (imgsrc) {
  console.log("按下复制");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("正在下载中，请稍后", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("复制成功！图片已添加盲水印，请遵守版权协议");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

// 复制当前选中文本
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// 读取剪切板
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// 粘贴文本到焦点
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//粘贴文本
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//引用到评论
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "好棒！";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//替换所有内容
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// 百度搜索
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("即将跳转到百度搜索", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//分享链接
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("已复制链接地址");
};

function addRightMenuClickEvent() {
  // 添加点击事件
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("复制成功，复制和转载请标注本文地址");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //音乐
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("复制歌曲名称成功", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// 已随机的歌曲
var selectRandomSong = [];
// 音乐默认声音大小
var musicVolume = 0.8;
// 是否切换了周杰伦音乐列表
var changeMusicListFlag = false;
// 当前默认播放列表
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | 公爵书房")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {
  if (typeof addFriendLinksInFooter === "function") {
    addFriendLinksInFooter();
  }
}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://umami.5plus.top/script.js" data-website-id="3980a7aa-c514-4b9e-afda-be7b0746582b"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'G-ME8L91NJ6Q', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>