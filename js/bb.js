let bbMemo={memos:"https://memos.gjcloak.top/",limit:"10",creatorId:"1",domId:"#bber",twiEnv:"https://tm.gjcloak.top/"};if("undefined"!=typeof bbMemos)for(let e in bbMemos)bbMemos[e]&&(bbMemo[e]=bbMemos[e]);function loadCssCode(e){let t=document.createElement("style");t.type="text/css",t.rel="stylesheet",t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}const allCSS="\n  #bber{margin-top:1rem;width:auto!important;min-height:100vh;}\n  .bb-timeline ul{margin:0;padding:0;}\n  .bb-timeline ul li{margin-bottom:3rem;list-style-type:none;}\n  .bb-timeline ul li .bb-cont ul li{margin-bottom:0;}\n  .bb-timeline .bb-item,.bb-load button{border:1px solid #dcdcdc;border-radius:8px;box-shadow:3px 3px 5px rgba(0,0,0,.1);}\n  .bb-timeline .bb-item{padding:.6rem 1rem .6rem;font-size:16px;}\n  .bb-load button{padding:10px 30px;width:100%;background:0 0;letter-spacing:.8rem;font-style:italic;font-size:.8rem;}\n  .bb-timeline .bb-info{position:relative;margin-top:.5rem;font-size:14px;}\n  .bb-timeline .bb-info a{text-decoration:none;}\n  .bb-timeline .datatime{font-size:15px;}\n  .bb-timeline .bb-cont{overflow-x:hidden;overflow-y:scroll;margin-top:.5rem;max-height:50vh;}\n  .bb-timeline .datacount{position:absolute;right:0;bottom:0;cursor:pointer;}\n  .bb-timeline .datacount svg{margin:2px 5px;}\n  .bb-timeline .bb-cont img[src*=emotion]{display:inline-block;width:auto;}\n  .bb-timeline p{margin:0;margin:0;min-height:18px;color:#3b3d42;letter-spacing:1px;line-height:28px;}\n  .bb-timeline pre{color:#aaa;}\n  .bb-timeline pre p{display:inline-block;}\n  .bb-timeline pre p:empty{display:none;}\n  .bb-cont p{magin:0;}\n  .bb-cont blockquote{position:relative;margin:0 0 0 1rem;padding:.25rem 2rem;border-left:0 none;font-family:KaiTi,STKaiti,STFangsong!important;}\n  .bb-cont blockquote::before{position:absolute;top:5px;left:10px;content:'“';font-weight:700;font-size:28px;font-family:Georgia,serif;line-height:2rem;}\n  .tag-span{color:#42b983;cursor:pointer;}\n  #tag-list{font-size:1.8rem;}\n  .bb-source a{margin:0 6px 0 0;padding:2px 8px;border-radius:5px;background:#3b3d42;color:#fafafa;font-weight:400;font-size:.9rem;}\n  .bb-cont .img{border-radius:4px;cursor:pointer;}\n  .bb-cont .img.square{width:180px;height:180px;object-fit:cover;}\n  .resimg.grid{display:grid;box-sizing:border-box;margin:4px 0 0;width:calc(100%* 2 / 3);grid-template-columns:repeat(3,1fr);grid-template-rows:auto;gap:4px;}\n  .resimg.grid-2{width:80%;grid-template-columns:repeat(2,1fr);}\n  .resimg.grid-4{width:calc(80% * 2 / 3);grid-template-columns:repeat(2,1fr);}\n  .resimg.grid figure.gallery-thumbnail{position:relative;padding-top:100%;width:100%;height:0;cursor:zoom-in;}\n  .resimg figure{max-height:50%;text-align:left;}\n  .resimg figure img{max-height:50vh;}\n  .resimg.grid figure,figcaption{margin:0!important;}\n  .resimg.grid figure.gallery-thumbnail>img.thumbnail-image{position:absolute;top:0;left:0;display:block;width:100%;height:100%;object-fit:cover;object-position:50% 50%;}\n  #bb-footer{margin:5rem auto 1rem;text-align:center;}\n  #bb-footer p{margin:0 0 .6rem;}\n  .bb-allnums{letter-spacing:2px;}\n  .bb-allpub{text-decoration:none;font-style:italic;}\n  .bb-timeline ul li::before{content:none;}\n  \n  /* db-card -------- start*/\n  .db-card{border-bottom:1px solid #eaeaea;box-shadow: none;margin:-0.6rem -1rem .6rem;}\n  .db-card-subject{display: flex;align-items:flex-start;line-height:1.6;padding:12px;position:relative;}\n  .dark .db-card{background:#252627;border-bottom:1px solid #3b3d42;}\n  .db-card-content {flex:1 1 auto;}\n  .db-card-post {width: 96px;margin-right: 15px;display: flex;flex: 0 0 auto;}\n  .db-card-title {margin-bottom: 5px;font-size: 18px;}\n  .db-card-title a{text-decoration: none!important}\n  .db-card-abstract,.db-card-comment{font-size:14px;overflow: hidden;max-height:3rem;}\n  .db-card-cate{position: absolute;top:0;right:0;background:#f99b01;padding:1px 8px;font-size:small;font-style:italic;border-radius:0 8px 0 8px;text-transform:capitalize;}\n  .db-card-post img{width: 96px!important;height: 96px!important;border-radius: 4px;-o-object-fit: cover;object-fit: cover;}\n  \n  .rating{display:flex;line-height:15px;}\n  .rating-star{display:inline-block;width:75px;height:15px;background-image:url('data:image/png;background-repeat:no-repeat;    base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAClCAYAAAAUAAAYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNrs3T9rFEEcxvG7qEQIglaCICKkin9AUEtBKxU7wS61VlYivgWj70TtNFj5BqzE7qxEWwsxKIoYn4UtluFmbm8nczvzm+/BjxyuDwNzu3uXD0+46f7LC5PA45Hm+WTYw1x2LRDc0jzTXB+wqMlsaLPutz8fDFjYZHYauAz3NBvt83XNnyUWNpn1nVm3OsHmsb3EomazzZnVXKMPNcc0xzUnNKc0Rzv/77fms+Z7O3vt9b1eU7bZrNN68l5zcolX4ofmsuZXTdnmMvyi2dR86Bmcac62P6vKrnVubpc0bxYE32nOab45N8YqsvPeDfcD4SOav4HjprPuu+H5BTt9LXDMfNbdLPfT678Fx6vKupt1o/O8+R3pkOaJ5/iktqx7z/qp+aq5q/nY+fczmheaK03Gs7D5rLtZdzSvA6/Ebc2u55j57HQB0TzW7AzkjiKzny6+2hlKNE8juMNcFqKBaIZndRlCNBBNgmx7ZkE0fbLtZkE0EA1EM17WuQwhGogGooFoss6296y52cNO+J6HLJoPaFdbsvA9zGerIxrPh85eWYgGooFoDiQbuAxp0UA0EVmdWbRo+ma1WbRoIBqIZtzsnHdDWjQQDUQD0WSbde5ZS2UhmtqJJtSEiVkXooFoIJre2VATJmZdiKZ2ogk1YSb8oVMvDeUPnSAaiCaPJkzMuhANRAPRQDQpsqEmTMy6EI11oolpwkA0EA1EcyDZmCYMRAPR+LMxTZjqiCamCQPRQDQQzehNGIgGooFoIJpVZ2OaMBBN7USTqgkD0UA0EE3vbKomDERTO9GkasKYJJpUTRiIBqKBaEZvwkA0EA1EA9GkyKZqwkA01olmrCYMRAPRQDR9LkO+0QmiKbAJUyTRjNWEgWggGohm9CYMRAPRQDQQzZDsWE0YiMYC0eTYhIFoIJrKiCbHJgxEY4FocmzCZEs0OTZhIBqIpjKiybEJA9FANBANROPL5tiEgWhKIJoSmzAQDURjjGhKbMJANCUQTYlNmNGIpsQmDEQD0RgjmhKbMBANRAPR1Es0JTZhIJpciMZaEwaigWgKJBprTRiIJheisdaESUo01powEA1EUyDRWGvCQDQQDURjm2isNWEgmlURzWw2q4pZIBqIJkOiCVyGJpkFolkV0ejMMvel28mIRptl7ku3IRqIpjCimfNuaJpZIBqIBqIpm2ice5Z5ZonJupvVkMRu4JW4qXnrOWY++1+AAQBw9BJSCTeN9wAAAABJRU5ErkJggg==');overflow:hidden;}\n  .allstar10{background-position:0 0;}\n  .allstar9{background-position:0 -15px;}\n  .allstar8{background-position:0 -30px;}\n  .allstar7{background-position:0 -45px;}\n  .allstar6{background-position:0 -60px;}\n  .allstar5{background-position:0 -75px;}\n  .allstar4{background-position:0 -90px;}\n  .allstar3{background-position:0 -105px;}\n  .allstar2{background-position:0 -120px;}\n  .allstar1{background-position:0 -135px;}\n  .allstar0{background-position:0 -150px;}\n  .rating-average{display:inline-block;margin-left:10px;color:#777;font-size:13px;}\n  .dark .post-preview{background:#3b3d42;}\n  \n  .video-wrapper{position:relative;padding-bottom:55%;width:100%;height:0;}\n  .video-wrapper iframe{position:absolute;width:100%;height:100%;}\n  .d-none{display:none!important;}\n  .item-twikoo{margin:2rem 0 0 0;}\n  .video-wrapper video{max-height:30vh;}\n  #tag-list .tag-span{position:relative;display:inline-block;margin:2rem auto;padding:0 10px;border-radius:4px;background:rgba(0,0,0,.08);line-height:12px;}\n  #tag-list .tag-span:before{position:absolute;top:-1rem;right:5px;width:5px;height:5px;content:'x';font-size:1rem;}\n  .bb-tool{display:flex;justify-content:space-between;align-items:center;}\n  .archive-btn,.reaction{display:inline-flex;}\n  .archive-btn{opacity:.3;}\n  #tag-list-all .tag-span{margin:.8rem 1rem 0 0;}\n  \n  .loader {position: relative;margin:3rem auto;width: 100px;}\n  .loader::before {content: '';display: block;padding-top: 100%;}\n  .circular {animation: rotate 2s linear infinite;height: 100%;transform-origin: center center;width: 100%;position: absolute;top: 0;bottom: 0;left: 0;right: 0;margin: auto;}\n  .path {stroke-dasharray: 1, 200;stroke-dashoffset: 0;animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;stroke-linecap: round;}\n  @keyframes rotate {100% {transform: rotate(360deg);}}\n  @keyframes dash {\n    0% {stroke-dasharray: 1, 200;stroke-dashoffset: 0;}\n    50% {stroke-dasharray: 89, 200;stroke-dashoffset: -35px;}\n    100% {stroke-dasharray: 89, 200;stroke-dashoffset: -124px;}\n  }\n  @keyframes color {\n    100%,0% {stroke: #d62d20;}40% {stroke: #0057e7;}66% {stroke: #008744;}80%,90% {stroke: #ffa700;}\n  }\n  \n  .dark .bb-timeline .bb-load button,.dark .bb-timeline .bb-item{border:1px solid #3b3d42;}\n  .dark .bb-timeline .bb-item p{color:#fafafa;}\n  .dark .bb-timeline .bb-item p svg{fill:#fafafa;}\n  .dark #tag-list .tag-span{background:rgba(238,238,238,.1);}\n  ";loadCssCode(allCSS);let memosOpenId,limit=bbMemo.limit,memos=bbMemo.memos,mePage=1,offset=0,nextLength=0,nextDom="",apiV1="",bbDom=document.querySelector(bbMemo.domId),load='<div class="bb-load"><button class="load-btn button-load">加载中……</button></div>',loading='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>';async function fetchStatus(){let e=memos+"api/v1/ping";(await fetch(e)).ok&&(apiV1="v1/");let t=getQueryVariable("memo")||"";t?getMemoOne(t):newApiV1(apiV1)}function getMemoOne(e){let t=`<iframe style="width:100%;height:100vh;" src="${e}" frameBorder="0"></iframe>`;(document.querySelector(".content")||document.querySelector(bbMemo.domId)).innerHTML=t}function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var i=t[o].split("=");if(i[0]==e)return i[1]}return!1}function newApiV1(e){getFirstList(e),meNums(e),bbDom.innerHTML=loading;let t=document.querySelector("button.button-load");t.addEventListener("click",(function(){t.textContent="加载中……",updateTiwkoo(nextDom),nextLength<limit?document.querySelector("button.button-load").remove():getNextList(e)}))}function getFirstList(e){bbDom.insertAdjacentHTML("afterend",load);let t=memos+"api/"+e+"memo?creatorId="+bbMemo.creatorId+"&rowStatus=NORMAL&limit="+limit;fetch(t).then((e=>e.json())).then((t=>{let o=t||"";t.data&&(o=t.data),updateTiwkoo(o),o.length<limit?document.querySelector("button.button-load").remove():(mePage++,offset=limit*(mePage-1),getNextList(e))}))}function updateTiwkoo(e){let t=e.map((e=>memos+"m/"+e.id));twikoo.getCommentsCount({envId:bbMemo.twiEnv,urls:t,includeReply:!0}).then((function(t){!function(t){let o=t.map((e=>Object.assign({},{count:e.count})));updateHTMl(e.map(((e,t)=>({...e,...o[t]}))))}(t)})).catch((function(e){console.error(e)}))}function getNextList(e){let t=memos+"api/"+e+"memo?creatorId="+bbMemo.creatorId+"&rowStatus=NORMAL&limit="+limit+"&offset="+offset;fetch(t).then((e=>e.json())).then((e=>{let t=e||"";e.data&&(t=e.data),nextDom=t,nextLength=nextDom.length,mePage++,offset=limit*(mePage-1),nextLength<1&&document.querySelector("button.button-load").remove()}))}function meNums(e){let t=document.querySelector(".bb-load"),o=memos+"api/"+e+"memo/stats?creatorId="+bbMemo.creatorId;fetch(o).then((e=>e.json())).then((e=>{let o=e||"";if(e.data&&(o=e.data),o){let e=`<div id="bb-footer"><p class="bb-allnums">共 ${o.length} 条 </p><p class="bb-allpub"><a href="https://memos.gjcloak.top/" target="_blank">白鸦庄园：领航</a></p></div>`;t.insertAdjacentHTML("afterend",e)}}))}async function updateHTMl(e){let t="",o="";const i=/#([^#\s!.,;:?"'()]+)(?= )/g,a=/\!\[(.*?)\]\((.*?)\)/g,n=/\[(.*?)\]\((.*?)\)/g,r=/(https:\/\/(www|movie|book)\.douban\.com\/(game|subject)\/[0-9]+\/).*?/g,l=/<a.*?href="https:\/\/www\.bilibili\.com\/video\/((av[\d]{1,10})|(BV([\w]{10})))\/?".*?>.*<\/a>/g,s=/<a.*?href="https:\/\/music\.163\.com\/.*id=([0-9]+)".*?>.*<\/a>/g,m=/<a.*?href="https\:\/\/y\.qq\.com\/.*(\/[0-9a-zA-Z]+)(\.html)?".*?>.*?<\/a>/g,d=/<a.*?href="https:\/\/v\.qq\.com\/.*\/([a-z|A-Z|0-9]+)\.html".*?>.*<\/a>/g,c=/<a.*?href="https:\/\/v\.youku\.com\/.*\/id_([a-z|A-Z|0-9|==]+)\.html".*?>.*<\/a>/g,b=/<a.*?href="https:\/\/www\.youtube\.com\/watch\?v\=([a-z|A-Z|0-9]{11})\".*?>.*<\/a>/g;marked.setOptions({breaks:!1,smartypants:!1,langPrefix:"language-",headerIds:!1,mangle:!1});for(let o=0;o<e.length;o++){let p=e[o].id,g=memos+"m/"+p,u=e[o].content+" ",f="";f+=u.replace(i,"").replace(a,"").replace(r,"").replace(n,'<a class="primary" href="$2" target="_blank">$1</a>');let h=u.match(r),v="";if(h)for(let e=0;e<h.length;e++)v+=await fetchNeoDB(h[e]);let w=u.match(i),k="";w&&(k=w.map((e=>`<span class='tag-span' onclick='getTagNow(this)'>${e}</span> `)).join(""),f=k+f.trim()),f=marked.parse(f).replace(l,"<div class='video-wrapper'><iframe src='//www.bilibili.com/blackboard/html5mobileplayer.html?bvid=$1&as_wide=1&high_quality=1&danmaku=0' scrolling='no' border='0' frameborder='no' framespacing='0' allowfullscreen='true'></iframe></div>").replace(s,"<meting-js auto='https://music.163.com/#/song?id=$1'></meting-js>").replace(m,"<meting-js auto='https://y.qq.com/n/yqq/song$1.html'></meting-js>").replace(d,"<div class='video-wrapper'><iframe src='//v.qq.com/iframe/player.html?vid=$1' allowFullScreen='true' frameborder='no'></iframe></div>").replace(c,"<div class='video-wrapper'><iframe src='https://player.youku.com/embed/$1' frameborder=0 'allowfullscreen'></iframe></div>").replace(b,"<div class='video-wrapper'><iframe src='https://www.youtube.com/embed/$1' title='YouTube video player' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen title='YouTube Video'></iframe></div>");let x=e[o].content.match(a)||"",y="";if(x){let e=x.length,t="";if(1!==e){}x.forEach((e=>{let o=e.replace(/!\[.*?\]\((.*?)\)/g,"$1");t+=`<figure class="gallery-thumbnail"><img class="img thumbnail-image" loading="lazy" decoding="async" src="${o}"/></figure>`})),f+=`<div class="resimg${y}">${t}</div>`}if(e[o].resourceList&&e[o].resourceList.length>0){let t=e[o].resourceList,i="",a="",n=0;for(let e=0;e<t.length;e++){let o=t[e].type.slice(0,5),r=t[e].externalLink,l=r||memos+"o/r/"+t[e].id+"/"+(t[e].publicId||t[e].filename);"image"==o?(i+=`<figure class="gallery-thumbnail"><img class="img thumbnail-image" src="${l}"/></figure>`,n+=1):"video"==o?i+=`<div class="video-wrapper"><video controls><source src="${l}" type="video/mp4"></video></div>`:a+=`<a target="_blank" rel="noreferrer" href="${l}">${t[e].filename}</a>`}if(i){let e="";1!==n&&(e="grid grid-"+n),f+=`<div class="resimg ${e}">${i}</div>`}a&&(f+=`<p class="bb-source">${a}</p>`)}let A=`<emoji-reaction theme="system" class="reaction" endpoint="https://api-emaction.immmmm.com" reacttargetid="${memos.replace(/https\:\/\/(.*\.)?(.*)\..*/,"id-$2-")+"memo-"+p}" style="line-height:normal;display:inline-flex;"></emoji-reaction>`,M=`<div class="datacount" data-twienv="${bbMemo.twiEnv}" data-id="${p}" onclick="loadTwikoo(this)"> ${e[o].count} 条评论 </div>`;memosOpenIdNow=window.localStorage&&window.localStorage.getItem("memos-access-token"),t+=`<li class="memo-${p}">\n          <div class="bb-item">\n  \n          ${v}\n            <div class="bb-tool">\n              ${A}\n            </div>\n            <div class="bb-cont">\n              ${f}\n            </div>\n            <div class="bb-info">\n              <a href="${g}" target="_blank"><span class="datatime">${new Date(1e3*e[o].createdTs).toLocaleString()}</span></a>\n              ${M}\n            </div>\n            <div class="item-twikoo twikoo-${p} d-none">\n              <div id="twikoo-${p}"></div>\n            </div>\n          </div>\n        </li>`}o="<section class='bb-timeline'><ul class='bb-list-ul'>"+t+"</ul></section>";let p=document.querySelector(".loader")||"";p&&p.remove(),bbDom.insertAdjacentHTML("beforeend",o),document.querySelector("button.button-load")&&(document.querySelector("button.button-load").textContent="加载更多"),window.ViewImage&&ViewImage.init(".bb-cont img"),window.Lately&&Lately.init({target:".datatime"})}async function fetchNeoDB(e){let t="https://api-neodb.immmmm.com/?url="+e,o=await fetch(t),i=await o.json();return`<div class="db-card">\n      <div class="db-card-subject">\n          <div class="db-card-post"><img loading="lazy" decoding="async" referrerpolicy="no-referrer" src="${i.cover_image_url}"></div>\n          <div class="db-card-content">\n              <div class="db-card-title"><a href="${e}" class="cute" target="_blank" rel="noreferrer">${i.title}</a></div>\n              <div class="rating"><span class="allstardark"><span class="allstarlight" style="width:${10*i.rating}%"></span></span><span class="rating_nums">${i.rating}</span></div>\n              <div class="db-card-abstract">${i.brief}</div>\n          </div>\n          <div class="db-card-cate">${i.category}</div>\n      </div>\n    </div>`}function getTagNow(e){bbDom.insertAdjacentHTML("beforebegin",'<div id="tag-list"></div>');let t=e.innerHTML.replace("#",""),o=document.getElementById("tag-list");window.scrollTo({top:o.offsetTop-20,behavior:"smooth"});let i=`<span class='tag-span' onclick='reLoad()'>${e.innerHTML}</span>`;document.querySelector("#tag-list").innerHTML=i,fetchMemoDOM(memos+"api/"+apiV1+"memo?creatorId="+bbMemo.creatorId+"&tag="+t+"&limit=20")}function randomMemo(){let e=memos+"api/"+apiV1+"memo/stats?creatorId="+bbMemo.creatorId;fetch(e).then((e=>e.json())).then((e=>{let t=e||"";e.data&&(t=e.data);let o=Math.floor(Math.random()*t.length)+1;fetchMemoDOM(memos+"api/"+apiV1+"memo?creatorId="+bbMemo.creatorId+"&rowStatus=NORMAL&limit=1&offset="+o)}))}function serchMemo(){let e=prompt("搜点啥？",""),t=`<div id="tag-list">${`<span class='tag-span' onclick='reLoad()'>#${e}</span>`}</div>`;bbDom.insertAdjacentHTML("beforebegin",t),fetchMemoDOM(memos+"api/"+apiV1+"memo?creatorId="+bbMemo.creatorId+"&content="+e+"&limit=20")}function fetchMemoDOM(e){bbDom.innerHTML=loading,fetch(e).then((e=>e.json())).then((e=>{let t=e||"";e.data&&(t=e.data),t.length>0?(document.querySelector(bbMemo.domId).innerHTML="",document.querySelector("button.button-load")&&document.querySelector("button.button-load").remove(),updateTiwkoo(t)):(alert("404 -_-!"),setTimeout(reLoad(),1e3))}))}function reLoad(){let e=location.protocol+"//"+location.host+location.pathname;window.location.replace(e)}function setOpenID(){let e=window.localStorage&&window.localStorage.getItem("memos-access-token")||"",t=prompt("请输入 Memos OpenId ",e);null!==t&&window.localStorage&&window.localStorage.setItem("memos-access-token",t)}function showTaglist(e){let t=e.getAttribute("data-api"),o="";fetch(t).then((e=>e.json())).then((e=>{for(let t=0;t<e.length;t++)o+=`<span class="tag-span" onclick='getTagNow(this)'>#${e[t]}</span>`;let t=`<div id="tag-list-all">${o}</div>`;bbDom.insertAdjacentHTML("beforebegin",t)}))}function loadTwikoo(e){let t=e.getAttribute("data-twienv"),o=e.getAttribute("data-id"),i=document.querySelector(".twikoo-"+o);if(i.classList.contains("d-none")){if(document.querySelectorAll(".item-twikoo").forEach((e=>{e.classList.add("d-none")})),!document.getElementById("twikoo")){i.classList.remove("d-none");let e=document.getElementsByClassName("memo-"+o);window.scrollTo({top:e[0].offsetTop-30,behavior:"smooth"}),twikoo.init({envId:t,el:"#twikoo-"+o,path:bbMemo.memos+"m/"+o}),setTimeout((function(){document.getElementById("twikoo").id="twikoo-"+o}),600);let a=location.pathname+"?memo="+bbMemos.memos+"m/"+o;history.pushState({memoOne:a,title:document.title},document.title,a)}}else i.classList.add("d-none")}function loadArtalk(e){let t=e.getAttribute("data-artenv"),o=e.getAttribute("data-artsite"),i=e.getAttribute("data-id"),a=document.querySelector(".artalk-"+i),n=document.querySelector("#artalk-"+i);if(n||a.insertAdjacentHTML("afterbegin",'<div id="artalk-'+i+'"></div>'),a.classList.contains("d-none")){if(document.querySelectorAll(".item-artalk").forEach((e=>{e.classList.add("d-none")})),!document.getElementById("artalk")){a.classList.remove("d-none");let e=document.getElementsByClassName("memo-"+i);window.scrollTo({top:e[0].offsetTop-30,behavior:"smooth"}),Artalk.init({el:"#artalk-"+i,pageKey:"/m/"+i,pageTitle:"",site:o,server:t})}}else a.classList.add("d-none"),n.remove()}bbDom&&fetchStatus();